Terminals unused in grammar

   CMD_EQUALS
   EXPR_AMPERSAND
   EXPR_PIPE
   EXPR_COLON
   UNTERMINATED_LEXING_BLOCK
   ERROR


Grammar

    0 $accept: cmd_root $end

    1 cmd_root: cmd_statements

    2 cmd_statements: cmd_statement
    3               | cmd_statements cmd_terminator cmd_statement

    4 cmd_terminator: CMD_TERMINATING_NEWLINE
    5               | EXPR_TERMINATING_NEWLINE
    6               | CMD_SEMICOLON
    7               | EXPR_SEMICOLON

    8 cmd_optional_whitespace: %empty
    9                        | CMD_WHITESPACE
   10                        | CMD_TERMINATING_NEWLINE

   11 cmd_statement: cmd_pipeline CMD_AMPERSAND
   12              | cmd_pipeline
   13              | cmd_assignment
   14              | CMD_COLON expression
   15              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | %empty

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | CMD_DOLLAR VARIABLE cmd_optional_whitespace

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration

   28 cmd_pipeline: cmd_instruction
   29             | cmd_pipeline CMD_PIPE cmd_instruction

   30 cmd_instruction: cmd_command
   31                | cmd_function_declaration

   32 cmd_command: cmd_arguments

   33 cmd_arguments: cmd_fragments
   34              | cmd_arguments CMD_WHITESPACE cmd_fragments

   35 cmd_fragments: cmd_fragment
   36              | cmd_fragments cmd_fragment
   37              | cmd_fragments cmd_keyword_as_string

   38 cmd_keyword_as_string: KEYWORD_IF
   39                      | KEYWORD_ELSE
   40                      | KEYWORD_WHILE
   41                      | KEYWORD_FOR
   42                      | KEYWORD_FOREACH
   43                      | KEYWORD_DO
   44                      | KEYWORD_BREAK
   45                      | KEYWORD_CONTINUE
   46                      | KEYWORD_AS

   47 cmd_fragment: cmd_fragment_or_variable
   48             | cmd_number
   49             | SINGLE_QUOTED
   50             | DOUBLE_QUOTED
   51             | CMD_DOLLAR VARIABLE
   52             | CMD_DOLLAR CMD_NUMBER
   53             | CMD_DOLLAR QUESTION_MARK
   54             | CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | CMD_BEGIN_PAREN expression END_PAREN

   57 cmd_number: CMD_NUMBER

   58 cmd_fragment_or_variable: CMD_MAP
   59                         | CMD_FRAGMENT
   60                         | VARIABLE

   61 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

   63 expr_fragments_or_function_declaration: expr_fragments
   64                                       | expr_function_declaration

   65 expr_key_values: expr_key_name
   66                | expr_key_name EXPR_EQUALS expr_fragment
   67                | expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS expr_fragment
   68                | expr_key_values EXPR_COMMA expr_key_name

   69 expr_key_name: expr_fragment_or_variable
   70              | QUESTION_MARK

   71 expr_fragment_or_variable: EXPR_FRAGMENT
   72                          | VARIABLE

   73 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN

   75 expression: expr_fragment
   76           | expression EXPR_ACCESS expression
   77           | expression EXPR_BEGIN_PAREN END_PAREN
   78           | expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression EXPR_DIVIDE expression
   80           | expression EXPR_MULTIPLY expression
   81           | expression EXPR_ADD expression
   82           | expression EXPR_MINUS expression
   83           | expr_function_declaration

   84 expr_fragments: expr_fragment
   85               | expr_fragments expr_fragment
   86               | expr_fragments expr_keyword_as_string

   87 expr_keyword_as_string: KEYWORD_IF
   88                       | KEYWORD_ELSE
   89                       | KEYWORD_WHILE
   90                       | KEYWORD_FOR
   91                       | KEYWORD_FOREACH
   92                       | KEYWORD_DO
   93                       | KEYWORD_BREAK
   94                       | KEYWORD_CONTINUE
   95                       | KEYWORD_AS

   96 expr_fragment: expr_fragment_or_variable
   97              | expr_number
   98              | PHP
   99              | SINGLE_QUOTED
  100              | DOUBLE_QUOTED
  101              | EXPR_DOLLAR VARIABLE
  102              | EXPR_DOLLAR EXPR_NUMBER
  103              | EXPR_DOLLAR QUESTION_MARK
  104              | EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | EXPR_BEGIN_PAREN expression END_PAREN
  107              | expr_array_decl

  108 expr_array_decl: EXPR_BEGIN_ARRAY END_PAREN
  109                | EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN

  111 expr_array_def: expr_array_element
  112               | expr_array_def EXPR_COMMA expr_array_element

  113 expr_array_element: expr_fragment EXPR_MAP expr_fragment
  114                   | expr_fragment

  115 expr_number: EXPR_NUMBER

  116 expr_comma_arguments: expr_fragments
  117                     | expr_comma_arguments EXPR_COMMA expr_fragments


Terminals, with rules where they appear

$end (0) 0
error (256)
SINGLE_QUOTED (258) 49 99
DOUBLE_QUOTED (259) 50 100
KEYWORD_WHILE (260) 17 18 40 89
KEYWORD_DO (261) 18 43 92
KEYWORD_FOR (262) 20 41 90
KEYWORD_FOREACH (263) 19 42 91
KEYWORD_BREAK (264) 44 93
KEYWORD_CONTINUE (265) 45 94
KEYWORD_IF (266) 15 16 38 87
KEYWORD_ELSE (267) 15 39 88
KEYWORD_AS (268) 19 20 46 95
KEYWORD_RETURN (269) 21
VARIABLE (270) 23 24 25 51 60 72 101
END_PAREN (271) 54 55 56 61 62 73 74 77 78 104 105 106 108 109 110
BEGIN_BRACE (272) 15 16 17 18 19 20 61 73
END_BRACE (273) 15 16 17 18 19 20 61 73
END_SQUARE (274) 27
QUESTION_MARK (275) 53 70 103
CMD_FRAGMENT (276) 59
CMD_MAP (277) 23 58 61 62
CMD_NUMBER (278) 52 57
CMD_DOLLAR (279) 23 24 51 52 53 55
CMD_AMPERSAND (280) 11
CMD_PIPE (281) 29
CMD_COLON (282) 14 25 26 27
CMD_WHITESPACE (283) 9 21 34
CMD_TERMINATING_NEWLINE (284) 4 10
CMD_BEGIN_COMMAND (285) 54
CMD_BEGIN_PAREN (286) 56 61 62
CMD_BEGIN_SQUARE (287) 55
CMD_SEMICOLON (288) 6
CMD_EQUALS (289)
PHP (290) 98
EXPR_FRAGMENT (291) 71
EXPR_NUMBER (292) 102 115
EXPR_DOLLAR (293) 25 101 102 103 105
EXPR_ACCESS (294) 26 27 76
EXPR_MAP (295) 73 74 113
EXPR_AMPERSAND (296)
EXPR_PIPE (297)
EXPR_EQUALS (298) 25 26 27 66 67
EXPR_COMMA (299) 67 68 110 112 117
EXPR_SEMICOLON (300) 7
EXPR_COLON (301)
EXPR_ADD (302) 81
EXPR_MINUS (303) 82
EXPR_MULTIPLY (304) 80
EXPR_DIVIDE (305) 79
EXPR_BEGIN_COMMAND (306) 104
EXPR_BEGIN_ARRAY (307) 108 109 110
EXPR_BEGIN_PAREN (308) 73 74 77 78 106
EXPR_BEGIN_SQUARE (309) 27 105
EXPR_END_SQUARE_BEGIN_COMMAND (310) 55 105
EXPR_TERMINATING_NEWLINE (311) 5
UNTERMINATED_LEXING_BLOCK (312)
ERROR (313)


Nonterminals, with rules where they appear

$accept (59)
    on left: 0
cmd_root (60)
    on left: 1, on right: 0
cmd_statements (61)
    on left: 2 3, on right: 1 3 15 16 17 18 19 20 61 73
cmd_terminator (62)
    on left: 4 5 6 7, on right: 3
cmd_optional_whitespace (63)
    on left: 8 9 10, on right: 15 16 17 18 19 20 23 24 61 62
cmd_statement (64)
    on left: 11 12 13 14 15 16 17 18 19 20 21 22, on right: 2 3
cmd_mapping (65)
    on left: 23 24, on right: 19 20
cmd_assignment (66)
    on left: 25 26 27, on right: 13
cmd_pipeline (67)
    on left: 28 29, on right: 11 12 29 54 55 104 105
cmd_instruction (68)
    on left: 30 31, on right: 28 29
cmd_command (69)
    on left: 32, on right: 30
cmd_arguments (70)
    on left: 33 34, on right: 32 34
cmd_fragments (71)
    on left: 35 36 37, on right: 33 34 36 37
cmd_keyword_as_string (72)
    on left: 38 39 40 41 42 43 44 45 46, on right: 37
cmd_fragment (73)
    on left: 47 48 49 50 51 52 53 54 55 56, on right: 15 16 17 18 19
    20 21 35 36
cmd_number (74)
    on left: 57, on right: 48
cmd_fragment_or_variable (75)
    on left: 58 59 60, on right: 47
cmd_function_declaration (76)
    on left: 61 62, on right: 31
expr_fragments_or_function_declaration (77)
    on left: 63 64, on right: 25 26 27
expr_key_values (78)
    on left: 65 66 67 68, on right: 55 67 68 105
expr_key_name (79)
    on left: 69 70, on right: 65 66 67 68
expr_fragment_or_variable (80)
    on left: 71 72, on right: 69 96
expr_function_declaration (81)
    on left: 73 74, on right: 64 83
expression (82)
    on left: 75 76 77 78 79 80 81 82 83, on right: 14 26 27 56 62 74
    76 77 78 79 80 81 82 106
expr_fragments (83)
    on left: 84 85 86, on right: 63 85 86 116 117
expr_keyword_as_string (84)
    on left: 87 88 89 90 91 92 93 94 95, on right: 86
expr_fragment (85)
    on left: 96 97 98 99 100 101 102 103 104 105 106 107, on right:
    66 67 75 84 85 113 114
expr_array_decl (86)
    on left: 108 109 110, on right: 107
expr_array_def (87)
    on left: 111 112, on right: 109 110 112
expr_array_element (88)
    on left: 113 114, on right: 111 112
expr_number (89)
    on left: 115, on right: 97
expr_comma_arguments (90)
    on left: 116 117, on right: 78 117


State 0

    0 $accept: . cmd_root $end
    1 cmd_root: . cmd_statements
    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [$end, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_root                  go to state 17
    cmd_statements            go to state 18
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 1

   49 cmd_fragment: SINGLE_QUOTED .

    $default  reduce using rule 49 (cmd_fragment)


State 2

   50 cmd_fragment: DOUBLE_QUOTED .

    $default  reduce using rule 50 (cmd_fragment)


State 3

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   17 cmd_statement: KEYWORD_WHILE . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 32


State 4

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   18 cmd_statement: KEYWORD_DO . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 33


State 5

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 34


State 6

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   19 cmd_statement: KEYWORD_FOREACH . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 35


State 7

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   15 cmd_statement: KEYWORD_IF . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 36


State 8

   21 cmd_statement: KEYWORD_RETURN . CMD_WHITESPACE cmd_fragment

    CMD_WHITESPACE  shift, and go to state 37


State 9

   60 cmd_fragment_or_variable: VARIABLE .

    $default  reduce using rule 60 (cmd_fragment_or_variable)


State 10

   59 cmd_fragment_or_variable: CMD_FRAGMENT .

    $default  reduce using rule 59 (cmd_fragment_or_variable)


State 11

   58 cmd_fragment_or_variable: CMD_MAP .

    $default  reduce using rule 58 (cmd_fragment_or_variable)


State 12

   57 cmd_number: CMD_NUMBER .

    $default  reduce using rule 57 (cmd_number)


State 13

   51 cmd_fragment: CMD_DOLLAR . VARIABLE
   52             | CMD_DOLLAR . CMD_NUMBER
   53             | CMD_DOLLAR . QUESTION_MARK
   55             | CMD_DOLLAR . CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN

    VARIABLE          shift, and go to state 38
    QUESTION_MARK     shift, and go to state 39
    CMD_NUMBER        shift, and go to state 40
    CMD_BEGIN_SQUARE  shift, and go to state 41


State 14

   14 cmd_statement: CMD_COLON . expression
   25 cmd_assignment: CMD_COLON . EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | CMD_COLON . expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | CMD_COLON . expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 48
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 54
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 15

   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   54             | CMD_BEGIN_COMMAND . cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_pipeline              go to state 58
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 16

   56 cmd_fragment: CMD_BEGIN_PAREN . expression END_PAREN
   61 cmd_function_declaration: CMD_BEGIN_PAREN . END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | CMD_BEGIN_PAREN . END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    END_PAREN           shift, and go to state 59
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 61
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 17

    0 $accept: cmd_root . $end

    $end  shift, and go to state 62


State 18

    1 cmd_root: cmd_statements .  [$end]
    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON

    CMD_TERMINATING_NEWLINE   shift, and go to state 63
    CMD_SEMICOLON             shift, and go to state 64
    EXPR_SEMICOLON            shift, and go to state 65
    EXPR_TERMINATING_NEWLINE  shift, and go to state 66

    $default  reduce using rule 1 (cmd_root)

    cmd_terminator  go to state 67


State 19

    2 cmd_statements: cmd_statement .

    $default  reduce using rule 2 (cmd_statements)


State 20

   13 cmd_statement: cmd_assignment .

    $default  reduce using rule 13 (cmd_statement)


State 21

   11 cmd_statement: cmd_pipeline . CMD_AMPERSAND
   12              | cmd_pipeline .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   29 cmd_pipeline: cmd_pipeline . CMD_PIPE cmd_instruction

    CMD_AMPERSAND  shift, and go to state 68
    CMD_PIPE       shift, and go to state 69

    $default  reduce using rule 12 (cmd_statement)


State 22

   28 cmd_pipeline: cmd_instruction .

    $default  reduce using rule 28 (cmd_pipeline)


State 23

   30 cmd_instruction: cmd_command .

    $default  reduce using rule 30 (cmd_instruction)


State 24

   32 cmd_command: cmd_arguments .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_PIPE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   34 cmd_arguments: cmd_arguments . CMD_WHITESPACE cmd_fragments

    CMD_WHITESPACE  shift, and go to state 70

    $default  reduce using rule 32 (cmd_command)


State 25

   33 cmd_arguments: cmd_fragments .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_PIPE, CMD_WHITESPACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   36 cmd_fragments: cmd_fragments . cmd_fragment
   37              | cmd_fragments . cmd_keyword_as_string
   38 cmd_keyword_as_string: . KEYWORD_IF
   39                      | . KEYWORD_ELSE
   40                      | . KEYWORD_WHILE
   41                      | . KEYWORD_FOR
   42                      | . KEYWORD_FOREACH
   43                      | . KEYWORD_DO
   44                      | . KEYWORD_BREAK
   45                      | . KEYWORD_CONTINUE
   46                      | . KEYWORD_AS
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 71
    KEYWORD_DO         shift, and go to state 72
    KEYWORD_FOR        shift, and go to state 73
    KEYWORD_FOREACH    shift, and go to state 74
    KEYWORD_BREAK      shift, and go to state 75
    KEYWORD_CONTINUE   shift, and go to state 76
    KEYWORD_IF         shift, and go to state 77
    KEYWORD_ELSE       shift, and go to state 78
    KEYWORD_AS         shift, and go to state 79
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    $default  reduce using rule 33 (cmd_arguments)

    cmd_keyword_as_string     go to state 81
    cmd_fragment              go to state 82
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 26

   35 cmd_fragments: cmd_fragment .

    $default  reduce using rule 35 (cmd_fragments)


State 27

   48 cmd_fragment: cmd_number .

    $default  reduce using rule 48 (cmd_fragment)


State 28

   47 cmd_fragment: cmd_fragment_or_variable .

    $default  reduce using rule 47 (cmd_fragment)


State 29

   31 cmd_instruction: cmd_function_declaration .

    $default  reduce using rule 31 (cmd_instruction)


State 30

    9 cmd_optional_whitespace: CMD_WHITESPACE .

    $default  reduce using rule 9 (cmd_optional_whitespace)


State 31

   10 cmd_optional_whitespace: CMD_TERMINATING_NEWLINE .

    $default  reduce using rule 10 (cmd_optional_whitespace)


State 32

   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    cmd_fragment              go to state 83
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 33

   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment

    BEGIN_BRACE  shift, and go to state 84


State 34

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    cmd_fragment              go to state 85
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 35

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    cmd_fragment              go to state 86
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 36

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    cmd_fragment              go to state 87
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 37

   21 cmd_statement: KEYWORD_RETURN CMD_WHITESPACE . cmd_fragment
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    cmd_fragment              go to state 88
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 38

   51 cmd_fragment: CMD_DOLLAR VARIABLE .

    $default  reduce using rule 51 (cmd_fragment)


State 39

   53 cmd_fragment: CMD_DOLLAR QUESTION_MARK .

    $default  reduce using rule 53 (cmd_fragment)


State 40

   52 cmd_fragment: CMD_DOLLAR CMD_NUMBER .

    $default  reduce using rule 52 (cmd_fragment)


State 41

   55 cmd_fragment: CMD_DOLLAR CMD_BEGIN_SQUARE . expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   65 expr_key_values: . expr_key_name
   66                | . expr_key_name EXPR_EQUALS expr_fragment
   67                | . expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS expr_fragment
   68                | . expr_key_values EXPR_COMMA expr_key_name
   69 expr_key_name: . expr_fragment_or_variable
   70              | . QUESTION_MARK
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE

    VARIABLE       shift, and go to state 44
    QUESTION_MARK  shift, and go to state 89
    EXPR_FRAGMENT  shift, and go to state 46

    expr_key_values            go to state 90
    expr_key_name              go to state 91
    expr_fragment_or_variable  go to state 92


State 42

   99 expr_fragment: SINGLE_QUOTED .

    $default  reduce using rule 99 (expr_fragment)


State 43

  100 expr_fragment: DOUBLE_QUOTED .

    $default  reduce using rule 100 (expr_fragment)


State 44

   72 expr_fragment_or_variable: VARIABLE .

    $default  reduce using rule 72 (expr_fragment_or_variable)


State 45

   98 expr_fragment: PHP .

    $default  reduce using rule 98 (expr_fragment)


State 46

   71 expr_fragment_or_variable: EXPR_FRAGMENT .

    $default  reduce using rule 71 (expr_fragment_or_variable)


State 47

  115 expr_number: EXPR_NUMBER .

    $default  reduce using rule 115 (expr_number)


State 48

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR . VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
  101 expr_fragment: EXPR_DOLLAR . VARIABLE
  102              | EXPR_DOLLAR . EXPR_NUMBER
  103              | EXPR_DOLLAR . QUESTION_MARK
  105              | EXPR_DOLLAR . EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN

    VARIABLE           shift, and go to state 93
    QUESTION_MARK      shift, and go to state 94
    EXPR_NUMBER        shift, and go to state 95
    EXPR_BEGIN_SQUARE  shift, and go to state 96


State 49

   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN
  104 expr_fragment: EXPR_BEGIN_COMMAND . cmd_pipeline END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_pipeline              go to state 97
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 50

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  108                | EXPR_BEGIN_ARRAY . END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  109                | EXPR_BEGIN_ARRAY . expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  110                | EXPR_BEGIN_ARRAY . expr_array_def EXPR_COMMA END_PAREN
  111 expr_array_def: . expr_array_element
  112               | . expr_array_def EXPR_COMMA expr_array_element
  113 expr_array_element: . expr_fragment EXPR_MAP expr_fragment
  114                   | . expr_fragment
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    END_PAREN           shift, and go to state 98
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    expr_fragment_or_variable  go to state 52
    expr_fragment              go to state 100
    expr_array_decl            go to state 56
    expr_array_def             go to state 101
    expr_array_element         go to state 102
    expr_number                go to state 57


State 51

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   73                          | EXPR_BEGIN_PAREN . END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   74                          | EXPR_BEGIN_PAREN . END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  106              | EXPR_BEGIN_PAREN . expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    END_PAREN           shift, and go to state 103
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 104
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 52

   96 expr_fragment: expr_fragment_or_variable .

    $default  reduce using rule 96 (expr_fragment)


State 53

   83 expression: expr_function_declaration .

    $default  reduce using rule 83 (expression)


State 54

   14 cmd_statement: CMD_COLON expression .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   26 cmd_assignment: CMD_COLON expression . EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | CMD_COLON expression . EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   76 expression: expression . EXPR_ACCESS expression
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression

    EXPR_ACCESS       shift, and go to state 105
    EXPR_ADD          shift, and go to state 106
    EXPR_MINUS        shift, and go to state 107
    EXPR_MULTIPLY     shift, and go to state 108
    EXPR_DIVIDE       shift, and go to state 109
    EXPR_BEGIN_PAREN  shift, and go to state 110

    $default  reduce using rule 14 (cmd_statement)


State 55

   75 expression: expr_fragment .

    $default  reduce using rule 75 (expression)


State 56

  107 expr_fragment: expr_array_decl .

    $default  reduce using rule 107 (expr_fragment)


State 57

   97 expr_fragment: expr_number .

    $default  reduce using rule 97 (expr_fragment)


State 58

   29 cmd_pipeline: cmd_pipeline . CMD_PIPE cmd_instruction
   54 cmd_fragment: CMD_BEGIN_COMMAND cmd_pipeline . END_PAREN

    END_PAREN  shift, and go to state 111
    CMD_PIPE   shift, and go to state 69


State 59

    8 cmd_optional_whitespace: . %empty  [CMD_MAP]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   61 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN . cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | CMD_BEGIN_PAREN END_PAREN . cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 112


State 60

  101 expr_fragment: EXPR_DOLLAR . VARIABLE
  102              | EXPR_DOLLAR . EXPR_NUMBER
  103              | EXPR_DOLLAR . QUESTION_MARK
  105              | EXPR_DOLLAR . EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN

    VARIABLE           shift, and go to state 113
    QUESTION_MARK      shift, and go to state 94
    EXPR_NUMBER        shift, and go to state 95
    EXPR_BEGIN_SQUARE  shift, and go to state 96


State 61

   56 cmd_fragment: CMD_BEGIN_PAREN expression . END_PAREN
   76 expression: expression . EXPR_ACCESS expression
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression

    END_PAREN         shift, and go to state 114
    EXPR_ACCESS       shift, and go to state 115
    EXPR_ADD          shift, and go to state 106
    EXPR_MINUS        shift, and go to state 107
    EXPR_MULTIPLY     shift, and go to state 108
    EXPR_DIVIDE       shift, and go to state 109
    EXPR_BEGIN_PAREN  shift, and go to state 110


State 62

    0 $accept: cmd_root $end .

    $default  accept


State 63

    4 cmd_terminator: CMD_TERMINATING_NEWLINE .

    $default  reduce using rule 4 (cmd_terminator)


State 64

    6 cmd_terminator: CMD_SEMICOLON .

    $default  reduce using rule 6 (cmd_terminator)


State 65

    7 cmd_terminator: EXPR_SEMICOLON .

    $default  reduce using rule 7 (cmd_terminator)


State 66

    5 cmd_terminator: EXPR_TERMINATING_NEWLINE .

    $default  reduce using rule 5 (cmd_terminator)


State 67

    3 cmd_statements: cmd_statements cmd_terminator . cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statement             go to state 116
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 68

   11 cmd_statement: cmd_pipeline CMD_AMPERSAND .

    $default  reduce using rule 11 (cmd_statement)


State 69

   29 cmd_pipeline: cmd_pipeline CMD_PIPE . cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_instruction           go to state 117
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 70

   34 cmd_arguments: cmd_arguments CMD_WHITESPACE . cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    cmd_fragments             go to state 118
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 71

   40 cmd_keyword_as_string: KEYWORD_WHILE .

    $default  reduce using rule 40 (cmd_keyword_as_string)


State 72

   43 cmd_keyword_as_string: KEYWORD_DO .

    $default  reduce using rule 43 (cmd_keyword_as_string)


State 73

   41 cmd_keyword_as_string: KEYWORD_FOR .

    $default  reduce using rule 41 (cmd_keyword_as_string)


State 74

   42 cmd_keyword_as_string: KEYWORD_FOREACH .

    $default  reduce using rule 42 (cmd_keyword_as_string)


State 75

   44 cmd_keyword_as_string: KEYWORD_BREAK .

    $default  reduce using rule 44 (cmd_keyword_as_string)


State 76

   45 cmd_keyword_as_string: KEYWORD_CONTINUE .

    $default  reduce using rule 45 (cmd_keyword_as_string)


State 77

   38 cmd_keyword_as_string: KEYWORD_IF .

    $default  reduce using rule 38 (cmd_keyword_as_string)


State 78

   39 cmd_keyword_as_string: KEYWORD_ELSE .

    $default  reduce using rule 39 (cmd_keyword_as_string)


State 79

   46 cmd_keyword_as_string: KEYWORD_AS .

    $default  reduce using rule 46 (cmd_keyword_as_string)


State 80

   56 cmd_fragment: CMD_BEGIN_PAREN . expression END_PAREN
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 61
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 81

   37 cmd_fragments: cmd_fragments cmd_keyword_as_string .

    $default  reduce using rule 37 (cmd_fragments)


State 82

   36 cmd_fragments: cmd_fragments cmd_fragment .

    $default  reduce using rule 36 (cmd_fragments)


State 83

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 119


State 84

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   18              | KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 120
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 85

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 121


State 86

    8 cmd_optional_whitespace: . %empty  [KEYWORD_AS]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 122


State 87

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 123


State 88

   21 cmd_statement: KEYWORD_RETURN CMD_WHITESPACE cmd_fragment .

    $default  reduce using rule 21 (cmd_statement)


State 89

   70 expr_key_name: QUESTION_MARK .

    $default  reduce using rule 70 (expr_key_name)


State 90

   55 cmd_fragment: CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values . EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   67 expr_key_values: expr_key_values . EXPR_COMMA expr_key_name EXPR_EQUALS expr_fragment
   68                | expr_key_values . EXPR_COMMA expr_key_name

    EXPR_COMMA                     shift, and go to state 124
    EXPR_END_SQUARE_BEGIN_COMMAND  shift, and go to state 125


State 91

   65 expr_key_values: expr_key_name .  [EXPR_COMMA, EXPR_END_SQUARE_BEGIN_COMMAND]
   66                | expr_key_name . EXPR_EQUALS expr_fragment

    EXPR_EQUALS  shift, and go to state 126

    $default  reduce using rule 65 (expr_key_values)


State 92

   69 expr_key_name: expr_fragment_or_variable .

    $default  reduce using rule 69 (expr_key_name)


State 93

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR VARIABLE . EXPR_EQUALS expr_fragments_or_function_declaration
  101 expr_fragment: EXPR_DOLLAR VARIABLE .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_ACCESS, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_BEGIN_PAREN, EXPR_TERMINATING_NEWLINE]

    EXPR_EQUALS  shift, and go to state 127

    $default  reduce using rule 101 (expr_fragment)


State 94

  103 expr_fragment: EXPR_DOLLAR QUESTION_MARK .

    $default  reduce using rule 103 (expr_fragment)


State 95

  102 expr_fragment: EXPR_DOLLAR EXPR_NUMBER .

    $default  reduce using rule 102 (expr_fragment)


State 96

   65 expr_key_values: . expr_key_name
   66                | . expr_key_name EXPR_EQUALS expr_fragment
   67                | . expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS expr_fragment
   68                | . expr_key_values EXPR_COMMA expr_key_name
   69 expr_key_name: . expr_fragment_or_variable
   70              | . QUESTION_MARK
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
  105 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE . expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN

    VARIABLE       shift, and go to state 44
    QUESTION_MARK  shift, and go to state 89
    EXPR_FRAGMENT  shift, and go to state 46

    expr_key_values            go to state 128
    expr_key_name              go to state 91
    expr_fragment_or_variable  go to state 92


State 97

   29 cmd_pipeline: cmd_pipeline . CMD_PIPE cmd_instruction
  104 expr_fragment: EXPR_BEGIN_COMMAND cmd_pipeline . END_PAREN

    END_PAREN  shift, and go to state 129
    CMD_PIPE   shift, and go to state 69


State 98

  108 expr_array_decl: EXPR_BEGIN_ARRAY END_PAREN .

    $default  reduce using rule 108 (expr_array_decl)


State 99

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  106              | EXPR_BEGIN_PAREN . expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 104
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 100

  113 expr_array_element: expr_fragment . EXPR_MAP expr_fragment
  114                   | expr_fragment .  [END_PAREN, EXPR_COMMA]

    EXPR_MAP  shift, and go to state 130

    $default  reduce using rule 114 (expr_array_element)


State 101

  109 expr_array_decl: EXPR_BEGIN_ARRAY expr_array_def . END_PAREN
  110                | EXPR_BEGIN_ARRAY expr_array_def . EXPR_COMMA END_PAREN
  112 expr_array_def: expr_array_def . EXPR_COMMA expr_array_element

    END_PAREN   shift, and go to state 131
    EXPR_COMMA  shift, and go to state 132


State 102

  111 expr_array_def: expr_array_element .

    $default  reduce using rule 111 (expr_array_def)


State 103

   73 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN . EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | EXPR_BEGIN_PAREN END_PAREN . EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN

    EXPR_MAP  shift, and go to state 133


State 104

   76 expression: expression . EXPR_ACCESS expression
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression
  106 expr_fragment: EXPR_BEGIN_PAREN expression . END_PAREN

    END_PAREN         shift, and go to state 134
    EXPR_ACCESS       shift, and go to state 115
    EXPR_ADD          shift, and go to state 106
    EXPR_MINUS        shift, and go to state 107
    EXPR_MULTIPLY     shift, and go to state 108
    EXPR_DIVIDE       shift, and go to state 109
    EXPR_BEGIN_PAREN  shift, and go to state 110


State 105

   26 cmd_assignment: CMD_COLON expression EXPR_ACCESS . expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | CMD_COLON expression EXPR_ACCESS . EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   76           | expression EXPR_ACCESS . expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51
    EXPR_BEGIN_SQUARE   shift, and go to state 135

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 136
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 106

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   81           | expression EXPR_ADD . expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 137
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 107

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   82           | expression EXPR_MINUS . expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 138
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 108

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   80           | expression EXPR_MULTIPLY . expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 139
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 109

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   79           | expression EXPR_DIVIDE . expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 140
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 110

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   77 expression: expression EXPR_BEGIN_PAREN . END_PAREN
   78           | expression EXPR_BEGIN_PAREN . expr_comma_arguments END_PAREN
   84 expr_fragments: . expr_fragment
   85               | . expr_fragments expr_fragment
   86               | . expr_fragments expr_keyword_as_string
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER
  116 expr_comma_arguments: . expr_fragments
  117                     | . expr_comma_arguments EXPR_COMMA expr_fragments

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    END_PAREN           shift, and go to state 141
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    expr_fragment_or_variable  go to state 52
    expr_fragments             go to state 142
    expr_fragment              go to state 143
    expr_array_decl            go to state 56
    expr_number                go to state 57
    expr_comma_arguments       go to state 144


State 111

   54 cmd_fragment: CMD_BEGIN_COMMAND cmd_pipeline END_PAREN .

    $default  reduce using rule 54 (cmd_fragment)


State 112

   61 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace . CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace . CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    CMD_MAP  shift, and go to state 145


State 113

  101 expr_fragment: EXPR_DOLLAR VARIABLE .

    $default  reduce using rule 101 (expr_fragment)


State 114

   56 cmd_fragment: CMD_BEGIN_PAREN expression END_PAREN .

    $default  reduce using rule 56 (cmd_fragment)


State 115

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   76           | expression EXPR_ACCESS . expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 146
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 116

    3 cmd_statements: cmd_statements cmd_terminator cmd_statement .

    $default  reduce using rule 3 (cmd_statements)


State 117

   29 cmd_pipeline: cmd_pipeline CMD_PIPE cmd_instruction .

    $default  reduce using rule 29 (cmd_pipeline)


State 118

   34 cmd_arguments: cmd_arguments CMD_WHITESPACE cmd_fragments .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_PIPE, CMD_WHITESPACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   36 cmd_fragments: cmd_fragments . cmd_fragment
   37              | cmd_fragments . cmd_keyword_as_string
   38 cmd_keyword_as_string: . KEYWORD_IF
   39                      | . KEYWORD_ELSE
   40                      | . KEYWORD_WHILE
   41                      | . KEYWORD_FOR
   42                      | . KEYWORD_FOREACH
   43                      | . KEYWORD_DO
   44                      | . KEYWORD_BREAK
   45                      | . KEYWORD_CONTINUE
   46                      | . KEYWORD_AS
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 71
    KEYWORD_DO         shift, and go to state 72
    KEYWORD_FOR        shift, and go to state 73
    KEYWORD_FOREACH    shift, and go to state 74
    KEYWORD_BREAK      shift, and go to state 75
    KEYWORD_CONTINUE   shift, and go to state 76
    KEYWORD_IF         shift, and go to state 77
    KEYWORD_ELSE       shift, and go to state 78
    KEYWORD_AS         shift, and go to state 79
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    $default  reduce using rule 34 (cmd_arguments)

    cmd_keyword_as_string     go to state 81
    cmd_fragment              go to state 82
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 119

   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 147


State 120

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment

    END_BRACE                 shift, and go to state 148
    CMD_TERMINATING_NEWLINE   shift, and go to state 63
    CMD_SEMICOLON             shift, and go to state 64
    EXPR_SEMICOLON            shift, and go to state 65
    EXPR_TERMINATING_NEWLINE  shift, and go to state 66

    cmd_terminator  go to state 67


State 121

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    cmd_fragment              go to state 149
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 122

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    KEYWORD_AS  shift, and go to state 150


State 123

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 151


State 124

   67 expr_key_values: expr_key_values EXPR_COMMA . expr_key_name EXPR_EQUALS expr_fragment
   68                | expr_key_values EXPR_COMMA . expr_key_name
   69 expr_key_name: . expr_fragment_or_variable
   70              | . QUESTION_MARK
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE

    VARIABLE       shift, and go to state 44
    QUESTION_MARK  shift, and go to state 89
    EXPR_FRAGMENT  shift, and go to state 46

    expr_key_name              go to state 152
    expr_fragment_or_variable  go to state 92


State 125

   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND . cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_pipeline              go to state 153
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 126

   66 expr_key_values: expr_key_name EXPR_EQUALS . expr_fragment
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    expr_fragment_or_variable  go to state 52
    expr_fragment              go to state 154
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 127

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS . expr_fragments_or_function_declaration
   63 expr_fragments_or_function_declaration: . expr_fragments
   64                                       | . expr_function_declaration
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   84 expr_fragments: . expr_fragment
   85               | . expr_fragments expr_fragment
   86               | . expr_fragments expr_keyword_as_string
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragments_or_function_declaration  go to state 155
    expr_fragment_or_variable               go to state 52
    expr_function_declaration               go to state 156
    expr_fragments                          go to state 157
    expr_fragment                           go to state 143
    expr_array_decl                         go to state 56
    expr_number                             go to state 57


State 128

   67 expr_key_values: expr_key_values . EXPR_COMMA expr_key_name EXPR_EQUALS expr_fragment
   68                | expr_key_values . EXPR_COMMA expr_key_name
  105 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values . EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN

    EXPR_COMMA                     shift, and go to state 124
    EXPR_END_SQUARE_BEGIN_COMMAND  shift, and go to state 158


State 129

  104 expr_fragment: EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN .

    $default  reduce using rule 104 (expr_fragment)


State 130

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  113 expr_array_element: expr_fragment EXPR_MAP . expr_fragment
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    expr_fragment_or_variable  go to state 52
    expr_fragment              go to state 159
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 131

  109 expr_array_decl: EXPR_BEGIN_ARRAY expr_array_def END_PAREN .

    $default  reduce using rule 109 (expr_array_decl)


State 132

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  110                | EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA . END_PAREN
  112 expr_array_def: expr_array_def EXPR_COMMA . expr_array_element
  113 expr_array_element: . expr_fragment EXPR_MAP expr_fragment
  114                   | . expr_fragment
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    END_PAREN           shift, and go to state 160
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    expr_fragment_or_variable  go to state 52
    expr_fragment              go to state 100
    expr_array_decl            go to state 56
    expr_array_element         go to state 161
    expr_number                go to state 57


State 133

   73 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP . BEGIN_BRACE cmd_statements END_BRACE
   74                          | EXPR_BEGIN_PAREN END_PAREN EXPR_MAP . EXPR_BEGIN_PAREN expression END_PAREN

    BEGIN_BRACE       shift, and go to state 162
    EXPR_BEGIN_PAREN  shift, and go to state 163


State 134

  106 expr_fragment: EXPR_BEGIN_PAREN expression END_PAREN .

    $default  reduce using rule 106 (expr_fragment)


State 135

   27 cmd_assignment: CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE . END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration

    END_SQUARE  shift, and go to state 164


State 136

   26 cmd_assignment: CMD_COLON expression EXPR_ACCESS expression . EXPR_EQUALS expr_fragments_or_function_declaration
   76 expression: expression . EXPR_ACCESS expression
   76           | expression EXPR_ACCESS expression .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_ACCESS, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_BEGIN_PAREN, EXPR_TERMINATING_NEWLINE]
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression

    EXPR_EQUALS  shift, and go to state 165

    $default  reduce using rule 76 (expression)

    Conflict between rule 76 and token EXPR_ACCESS resolved as reduce (%left EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_ADD resolved as reduce (EXPR_ADD < EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_MINUS resolved as reduce (EXPR_MINUS < EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_MULTIPLY resolved as reduce (EXPR_MULTIPLY < EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_DIVIDE resolved as reduce (EXPR_DIVIDE < EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_BEGIN_PAREN resolved as reduce (EXPR_BEGIN_PAREN < EXPR_ACCESS).


State 137

   76 expression: expression . EXPR_ACCESS expression
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   81           | expression EXPR_ADD expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_TERMINATING_NEWLINE]
   82           | expression . EXPR_MINUS expression

    EXPR_ACCESS       shift, and go to state 115
    EXPR_MULTIPLY     shift, and go to state 108
    EXPR_DIVIDE       shift, and go to state 109
    EXPR_BEGIN_PAREN  shift, and go to state 110

    $default  reduce using rule 81 (expression)

    Conflict between rule 81 and token EXPR_ACCESS resolved as shift (EXPR_ADD < EXPR_ACCESS).
    Conflict between rule 81 and token EXPR_ADD resolved as reduce (%left EXPR_ADD).
    Conflict between rule 81 and token EXPR_MINUS resolved as reduce (%left EXPR_MINUS).
    Conflict between rule 81 and token EXPR_MULTIPLY resolved as shift (EXPR_ADD < EXPR_MULTIPLY).
    Conflict between rule 81 and token EXPR_DIVIDE resolved as shift (EXPR_ADD < EXPR_DIVIDE).
    Conflict between rule 81 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_ADD < EXPR_BEGIN_PAREN).


State 138

   76 expression: expression . EXPR_ACCESS expression
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression
   82           | expression EXPR_MINUS expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_TERMINATING_NEWLINE]

    EXPR_ACCESS       shift, and go to state 115
    EXPR_MULTIPLY     shift, and go to state 108
    EXPR_DIVIDE       shift, and go to state 109
    EXPR_BEGIN_PAREN  shift, and go to state 110

    $default  reduce using rule 82 (expression)

    Conflict between rule 82 and token EXPR_ACCESS resolved as shift (EXPR_MINUS < EXPR_ACCESS).
    Conflict between rule 82 and token EXPR_ADD resolved as reduce (%left EXPR_ADD).
    Conflict between rule 82 and token EXPR_MINUS resolved as reduce (%left EXPR_MINUS).
    Conflict between rule 82 and token EXPR_MULTIPLY resolved as shift (EXPR_MINUS < EXPR_MULTIPLY).
    Conflict between rule 82 and token EXPR_DIVIDE resolved as shift (EXPR_MINUS < EXPR_DIVIDE).
    Conflict between rule 82 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_MINUS < EXPR_BEGIN_PAREN).


State 139

   76 expression: expression . EXPR_ACCESS expression
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   80           | expression EXPR_MULTIPLY expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_TERMINATING_NEWLINE]
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression

    EXPR_ACCESS       shift, and go to state 115
    EXPR_BEGIN_PAREN  shift, and go to state 110

    $default  reduce using rule 80 (expression)

    Conflict between rule 80 and token EXPR_ACCESS resolved as shift (EXPR_MULTIPLY < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_ADD resolved as reduce (EXPR_ADD < EXPR_MULTIPLY).
    Conflict between rule 80 and token EXPR_MINUS resolved as reduce (EXPR_MINUS < EXPR_MULTIPLY).
    Conflict between rule 80 and token EXPR_MULTIPLY resolved as reduce (%left EXPR_MULTIPLY).
    Conflict between rule 80 and token EXPR_DIVIDE resolved as reduce (%left EXPR_DIVIDE).
    Conflict between rule 80 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_MULTIPLY < EXPR_BEGIN_PAREN).


State 140

   76 expression: expression . EXPR_ACCESS expression
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   79           | expression EXPR_DIVIDE expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_TERMINATING_NEWLINE]
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression

    EXPR_ACCESS       shift, and go to state 115
    EXPR_BEGIN_PAREN  shift, and go to state 110

    $default  reduce using rule 79 (expression)

    Conflict between rule 79 and token EXPR_ACCESS resolved as shift (EXPR_DIVIDE < EXPR_ACCESS).
    Conflict between rule 79 and token EXPR_ADD resolved as reduce (EXPR_ADD < EXPR_DIVIDE).
    Conflict between rule 79 and token EXPR_MINUS resolved as reduce (EXPR_MINUS < EXPR_DIVIDE).
    Conflict between rule 79 and token EXPR_MULTIPLY resolved as reduce (%left EXPR_MULTIPLY).
    Conflict between rule 79 and token EXPR_DIVIDE resolved as reduce (%left EXPR_DIVIDE).
    Conflict between rule 79 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_DIVIDE < EXPR_BEGIN_PAREN).


State 141

   77 expression: expression EXPR_BEGIN_PAREN END_PAREN .

    $default  reduce using rule 77 (expression)


State 142

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   85 expr_fragments: expr_fragments . expr_fragment
   86               | expr_fragments . expr_keyword_as_string
   87 expr_keyword_as_string: . KEYWORD_IF
   88                       | . KEYWORD_ELSE
   89                       | . KEYWORD_WHILE
   90                       | . KEYWORD_FOR
   91                       | . KEYWORD_FOREACH
   92                       | . KEYWORD_DO
   93                       | . KEYWORD_BREAK
   94                       | . KEYWORD_CONTINUE
   95                       | . KEYWORD_AS
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER
  116 expr_comma_arguments: expr_fragments .  [END_PAREN, EXPR_COMMA]

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    KEYWORD_WHILE       shift, and go to state 166
    KEYWORD_DO          shift, and go to state 167
    KEYWORD_FOR         shift, and go to state 168
    KEYWORD_FOREACH     shift, and go to state 169
    KEYWORD_BREAK       shift, and go to state 170
    KEYWORD_CONTINUE    shift, and go to state 171
    KEYWORD_IF          shift, and go to state 172
    KEYWORD_ELSE        shift, and go to state 173
    KEYWORD_AS          shift, and go to state 174
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    $default  reduce using rule 116 (expr_comma_arguments)

    expr_fragment_or_variable  go to state 52
    expr_keyword_as_string     go to state 175
    expr_fragment              go to state 176
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 143

   84 expr_fragments: expr_fragment .

    $default  reduce using rule 84 (expr_fragments)


State 144

   78 expression: expression EXPR_BEGIN_PAREN expr_comma_arguments . END_PAREN
  117 expr_comma_arguments: expr_comma_arguments . EXPR_COMMA expr_fragments

    END_PAREN   shift, and go to state 177
    EXPR_COMMA  shift, and go to state 178


State 145

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   61 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP . cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 179


State 146

   76 expression: expression . EXPR_ACCESS expression
   76           | expression EXPR_ACCESS expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_ACCESS, EXPR_EQUALS, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_BEGIN_PAREN, EXPR_TERMINATING_NEWLINE]
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression

    $default  reduce using rule 76 (expression)

    Conflict between rule 76 and token EXPR_ACCESS resolved as reduce (%left EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_ADD resolved as reduce (EXPR_ADD < EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_MINUS resolved as reduce (EXPR_MINUS < EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_MULTIPLY resolved as reduce (EXPR_MULTIPLY < EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_DIVIDE resolved as reduce (EXPR_DIVIDE < EXPR_ACCESS).
    Conflict between rule 76 and token EXPR_BEGIN_PAREN resolved as reduce (EXPR_BEGIN_PAREN < EXPR_ACCESS).


State 147

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 180
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 148

   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment

    KEYWORD_WHILE  shift, and go to state 181


State 149

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 182


State 150

    8 cmd_optional_whitespace: . %empty  [CMD_DOLLAR]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS . cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 183


State 151

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   15              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 184
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 152

   67 expr_key_values: expr_key_values EXPR_COMMA expr_key_name . EXPR_EQUALS expr_fragment
   68                | expr_key_values EXPR_COMMA expr_key_name .  [EXPR_COMMA, EXPR_END_SQUARE_BEGIN_COMMAND]

    EXPR_EQUALS  shift, and go to state 185

    $default  reduce using rule 68 (expr_key_values)


State 153

   29 cmd_pipeline: cmd_pipeline . CMD_PIPE cmd_instruction
   55 cmd_fragment: CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline . END_PAREN

    END_PAREN  shift, and go to state 186
    CMD_PIPE   shift, and go to state 69


State 154

   66 expr_key_values: expr_key_name EXPR_EQUALS expr_fragment .

    $default  reduce using rule 66 (expr_key_values)


State 155

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration .

    $default  reduce using rule 25 (cmd_assignment)


State 156

   64 expr_fragments_or_function_declaration: expr_function_declaration .

    $default  reduce using rule 64 (expr_fragments_or_function_declaration)


State 157

   63 expr_fragments_or_function_declaration: expr_fragments .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   85 expr_fragments: expr_fragments . expr_fragment
   86               | expr_fragments . expr_keyword_as_string
   87 expr_keyword_as_string: . KEYWORD_IF
   88                       | . KEYWORD_ELSE
   89                       | . KEYWORD_WHILE
   90                       | . KEYWORD_FOR
   91                       | . KEYWORD_FOREACH
   92                       | . KEYWORD_DO
   93                       | . KEYWORD_BREAK
   94                       | . KEYWORD_CONTINUE
   95                       | . KEYWORD_AS
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    KEYWORD_WHILE       shift, and go to state 166
    KEYWORD_DO          shift, and go to state 167
    KEYWORD_FOR         shift, and go to state 168
    KEYWORD_FOREACH     shift, and go to state 169
    KEYWORD_BREAK       shift, and go to state 170
    KEYWORD_CONTINUE    shift, and go to state 171
    KEYWORD_IF          shift, and go to state 172
    KEYWORD_ELSE        shift, and go to state 173
    KEYWORD_AS          shift, and go to state 174
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    $default  reduce using rule 63 (expr_fragments_or_function_declaration)

    expr_fragment_or_variable  go to state 52
    expr_keyword_as_string     go to state 175
    expr_fragment              go to state 176
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 158

   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN
  105 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND . cmd_pipeline END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_pipeline              go to state 187
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 159

  113 expr_array_element: expr_fragment EXPR_MAP expr_fragment .

    $default  reduce using rule 113 (expr_array_element)


State 160

  110 expr_array_decl: EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN .

    $default  reduce using rule 110 (expr_array_decl)


State 161

  112 expr_array_def: expr_array_def EXPR_COMMA expr_array_element .

    $default  reduce using rule 112 (expr_array_def)


State 162

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN
   73 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE . cmd_statements END_BRACE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 188
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 163

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   74                          | EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN . expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 189
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 164

   27 cmd_assignment: CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE . EXPR_EQUALS expr_fragments_or_function_declaration

    EXPR_EQUALS  shift, and go to state 190


State 165

   26 cmd_assignment: CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS . expr_fragments_or_function_declaration
   63 expr_fragments_or_function_declaration: . expr_fragments
   64                                       | . expr_function_declaration
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   84 expr_fragments: . expr_fragment
   85               | . expr_fragments expr_fragment
   86               | . expr_fragments expr_keyword_as_string
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragments_or_function_declaration  go to state 191
    expr_fragment_or_variable               go to state 52
    expr_function_declaration               go to state 156
    expr_fragments                          go to state 157
    expr_fragment                           go to state 143
    expr_array_decl                         go to state 56
    expr_number                             go to state 57


State 166

   89 expr_keyword_as_string: KEYWORD_WHILE .

    $default  reduce using rule 89 (expr_keyword_as_string)


State 167

   92 expr_keyword_as_string: KEYWORD_DO .

    $default  reduce using rule 92 (expr_keyword_as_string)


State 168

   90 expr_keyword_as_string: KEYWORD_FOR .

    $default  reduce using rule 90 (expr_keyword_as_string)


State 169

   91 expr_keyword_as_string: KEYWORD_FOREACH .

    $default  reduce using rule 91 (expr_keyword_as_string)


State 170

   93 expr_keyword_as_string: KEYWORD_BREAK .

    $default  reduce using rule 93 (expr_keyword_as_string)


State 171

   94 expr_keyword_as_string: KEYWORD_CONTINUE .

    $default  reduce using rule 94 (expr_keyword_as_string)


State 172

   87 expr_keyword_as_string: KEYWORD_IF .

    $default  reduce using rule 87 (expr_keyword_as_string)


State 173

   88 expr_keyword_as_string: KEYWORD_ELSE .

    $default  reduce using rule 88 (expr_keyword_as_string)


State 174

   95 expr_keyword_as_string: KEYWORD_AS .

    $default  reduce using rule 95 (expr_keyword_as_string)


State 175

   86 expr_fragments: expr_fragments expr_keyword_as_string .

    $default  reduce using rule 86 (expr_fragments)


State 176

   85 expr_fragments: expr_fragments expr_fragment .

    $default  reduce using rule 85 (expr_fragments)


State 177

   78 expression: expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN .

    $default  reduce using rule 78 (expression)


State 178

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   84 expr_fragments: . expr_fragment
   85               | . expr_fragments expr_fragment
   86               | . expr_fragments expr_keyword_as_string
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER
  117 expr_comma_arguments: expr_comma_arguments EXPR_COMMA . expr_fragments

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    expr_fragment_or_variable  go to state 52
    expr_fragments             go to state 192
    expr_fragment              go to state 143
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 179

   61 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE
   62                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace . CMD_BEGIN_PAREN expression END_PAREN

    BEGIN_BRACE      shift, and go to state 193
    CMD_BEGIN_PAREN  shift, and go to state 194


State 180

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 195
    CMD_TERMINATING_NEWLINE   shift, and go to state 63
    CMD_SEMICOLON             shift, and go to state 64
    EXPR_SEMICOLON            shift, and go to state 65
    EXPR_TERMINATING_NEWLINE  shift, and go to state 66

    cmd_terminator  go to state 67


State 181

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE . cmd_optional_whitespace cmd_fragment

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 196


State 182

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    cmd_fragment              go to state 197
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 183

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace . cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   23 cmd_mapping: . CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | . CMD_DOLLAR VARIABLE cmd_optional_whitespace

    CMD_DOLLAR  shift, and go to state 198

    cmd_mapping  go to state 199


State 184

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 200
    CMD_TERMINATING_NEWLINE   shift, and go to state 63
    CMD_SEMICOLON             shift, and go to state 64
    EXPR_SEMICOLON            shift, and go to state 65
    EXPR_TERMINATING_NEWLINE  shift, and go to state 66

    cmd_terminator  go to state 67


State 185

   67 expr_key_values: expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS . expr_fragment
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    expr_fragment_or_variable  go to state 52
    expr_fragment              go to state 201
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 186

   55 cmd_fragment: CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN .

    $default  reduce using rule 55 (cmd_fragment)


State 187

   29 cmd_pipeline: cmd_pipeline . CMD_PIPE cmd_instruction
  105 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline . END_PAREN

    END_PAREN  shift, and go to state 202
    CMD_PIPE   shift, and go to state 69


State 188

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   73 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 203
    CMD_TERMINATING_NEWLINE   shift, and go to state 63
    CMD_SEMICOLON             shift, and go to state 64
    EXPR_SEMICOLON            shift, and go to state 65
    EXPR_TERMINATING_NEWLINE  shift, and go to state 66

    cmd_terminator  go to state 67


State 189

   74 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression . END_PAREN
   76 expression: expression . EXPR_ACCESS expression
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression

    END_PAREN         shift, and go to state 204
    EXPR_ACCESS       shift, and go to state 115
    EXPR_ADD          shift, and go to state 106
    EXPR_MINUS        shift, and go to state 107
    EXPR_MULTIPLY     shift, and go to state 108
    EXPR_DIVIDE       shift, and go to state 109
    EXPR_BEGIN_PAREN  shift, and go to state 110


State 190

   27 cmd_assignment: CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS . expr_fragments_or_function_declaration
   63 expr_fragments_or_function_declaration: . expr_fragments
   64                                       | . expr_function_declaration
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   84 expr_fragments: . expr_fragment
   85               | . expr_fragments expr_fragment
   86               | . expr_fragments expr_keyword_as_string
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragments_or_function_declaration  go to state 205
    expr_fragment_or_variable               go to state 52
    expr_function_declaration               go to state 156
    expr_fragments                          go to state 157
    expr_fragment                           go to state 143
    expr_array_decl                         go to state 56
    expr_number                             go to state 57


State 191

   26 cmd_assignment: CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration .

    $default  reduce using rule 26 (cmd_assignment)


State 192

   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   85 expr_fragments: expr_fragments . expr_fragment
   86               | expr_fragments . expr_keyword_as_string
   87 expr_keyword_as_string: . KEYWORD_IF
   88                       | . KEYWORD_ELSE
   89                       | . KEYWORD_WHILE
   90                       | . KEYWORD_FOR
   91                       | . KEYWORD_FOREACH
   92                       | . KEYWORD_DO
   93                       | . KEYWORD_BREAK
   94                       | . KEYWORD_CONTINUE
   95                       | . KEYWORD_AS
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER
  117 expr_comma_arguments: expr_comma_arguments EXPR_COMMA expr_fragments .  [END_PAREN, EXPR_COMMA]

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    KEYWORD_WHILE       shift, and go to state 166
    KEYWORD_DO          shift, and go to state 167
    KEYWORD_FOR         shift, and go to state 168
    KEYWORD_FOREACH     shift, and go to state 169
    KEYWORD_BREAK       shift, and go to state 170
    KEYWORD_CONTINUE    shift, and go to state 171
    KEYWORD_IF          shift, and go to state 172
    KEYWORD_ELSE        shift, and go to state 173
    KEYWORD_AS          shift, and go to state 174
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 99

    $default  reduce using rule 117 (expr_comma_arguments)

    expr_fragment_or_variable  go to state 52
    expr_keyword_as_string     go to state 175
    expr_fragment              go to state 176
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 193

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   61                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 206
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 194

   62 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN . expression END_PAREN
   71 expr_fragment_or_variable: . EXPR_FRAGMENT
   72                          | . VARIABLE
   73 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   74                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   75 expression: . expr_fragment
   76           | . expression EXPR_ACCESS expression
   77           | . expression EXPR_BEGIN_PAREN END_PAREN
   78           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | . expression EXPR_DIVIDE expression
   80           | . expression EXPR_MULTIPLY expression
   81           | . expression EXPR_ADD expression
   82           | . expression EXPR_MINUS expression
   83           | . expr_function_declaration
   96 expr_fragment: . expr_fragment_or_variable
   97              | . expr_number
   98              | . PHP
   99              | . SINGLE_QUOTED
  100              | . DOUBLE_QUOTED
  101              | . EXPR_DOLLAR VARIABLE
  102              | . EXPR_DOLLAR EXPR_NUMBER
  103              | . EXPR_DOLLAR QUESTION_MARK
  104              | . EXPR_BEGIN_COMMAND cmd_pipeline END_PAREN
  105              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
  106              | . EXPR_BEGIN_PAREN expression END_PAREN
  107              | . expr_array_decl
  108 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  109                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  110                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  115 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 42
    DOUBLE_QUOTED       shift, and go to state 43
    VARIABLE            shift, and go to state 44
    PHP                 shift, and go to state 45
    EXPR_FRAGMENT       shift, and go to state 46
    EXPR_NUMBER         shift, and go to state 47
    EXPR_DOLLAR         shift, and go to state 60
    EXPR_BEGIN_COMMAND  shift, and go to state 49
    EXPR_BEGIN_ARRAY    shift, and go to state 50
    EXPR_BEGIN_PAREN    shift, and go to state 51

    expr_fragment_or_variable  go to state 52
    expr_function_declaration  go to state 53
    expression                 go to state 207
    expr_fragment              go to state 55
    expr_array_decl            go to state 56
    expr_number                go to state 57


State 195

   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 17 (cmd_statement)


State 196

   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace . cmd_fragment
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 80

    cmd_fragment              go to state 208
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28


State 197

    8 cmd_optional_whitespace: . %empty  [KEYWORD_AS]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 209


State 198

   23 cmd_mapping: CMD_DOLLAR . VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | CMD_DOLLAR . VARIABLE cmd_optional_whitespace

    VARIABLE  shift, and go to state 210


State 199

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 211


State 200

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE . KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]

    KEYWORD_ELSE  shift, and go to state 212

    $default  reduce using rule 16 (cmd_statement)


State 201

   67 expr_key_values: expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS expr_fragment .

    $default  reduce using rule 67 (expr_key_values)


State 202

  105 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN .

    $default  reduce using rule 105 (expr_fragment)


State 203

   73 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 73 (expr_function_declaration)


State 204

   74 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN .

    $default  reduce using rule 74 (expr_function_declaration)


State 205

   27 cmd_assignment: CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration .

    $default  reduce using rule 27 (cmd_assignment)


State 206

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   61 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 213
    CMD_TERMINATING_NEWLINE   shift, and go to state 63
    CMD_SEMICOLON             shift, and go to state 64
    EXPR_SEMICOLON            shift, and go to state 65
    EXPR_TERMINATING_NEWLINE  shift, and go to state 66

    cmd_terminator  go to state 67


State 207

   62 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression . END_PAREN
   76 expression: expression . EXPR_ACCESS expression
   77           | expression . EXPR_BEGIN_PAREN END_PAREN
   78           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   79           | expression . EXPR_DIVIDE expression
   80           | expression . EXPR_MULTIPLY expression
   81           | expression . EXPR_ADD expression
   82           | expression . EXPR_MINUS expression

    END_PAREN         shift, and go to state 214
    EXPR_ACCESS       shift, and go to state 115
    EXPR_ADD          shift, and go to state 106
    EXPR_MINUS        shift, and go to state 107
    EXPR_MULTIPLY     shift, and go to state 108
    EXPR_DIVIDE       shift, and go to state 109
    EXPR_BEGIN_PAREN  shift, and go to state 110


State 208

   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment .

    $default  reduce using rule 18 (cmd_statement)


State 209

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    KEYWORD_AS  shift, and go to state 215


State 210

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE, CMD_MAP]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   23 cmd_mapping: CMD_DOLLAR VARIABLE . cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | CMD_DOLLAR VARIABLE . cmd_optional_whitespace

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 216


State 211

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   19              | KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE . cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 217
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 212

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 218


State 213

   61 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 61 (cmd_function_declaration)


State 214

   62 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN .

    $default  reduce using rule 62 (cmd_function_declaration)


State 215

    8 cmd_optional_whitespace: . %empty  [CMD_DOLLAR]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS . cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 219


State 216

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace . CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | CMD_DOLLAR VARIABLE cmd_optional_whitespace .  [BEGIN_BRACE]

    CMD_MAP  shift, and go to state 220

    $default  reduce using rule 24 (cmd_mapping)


State 217

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 221
    CMD_TERMINATING_NEWLINE   shift, and go to state 63
    CMD_SEMICOLON             shift, and go to state 64
    EXPR_SEMICOLON            shift, and go to state 65
    EXPR_TERMINATING_NEWLINE  shift, and go to state 66

    cmd_terminator  go to state 67


State 218

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   15              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE . cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 222
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 219

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace . cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   23 cmd_mapping: . CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | . CMD_DOLLAR VARIABLE cmd_optional_whitespace

    CMD_DOLLAR  shift, and go to state 198

    cmd_mapping  go to state 223


State 220

    8 cmd_optional_whitespace: . %empty  [CMD_DOLLAR]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP . cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 224


State 221

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 19 (cmd_statement)


State 222

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 225
    CMD_TERMINATING_NEWLINE   shift, and go to state 63
    CMD_SEMICOLON             shift, and go to state 64
    EXPR_SEMICOLON            shift, and go to state 65
    EXPR_TERMINATING_NEWLINE  shift, and go to state 66

    cmd_terminator  go to state 67


State 223

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 226


State 224

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace . CMD_DOLLAR VARIABLE cmd_optional_whitespace

    CMD_DOLLAR  shift, and go to state 227


State 225

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 15 (cmd_statement)


State 226

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_pipeline CMD_AMPERSAND
   12              | . cmd_pipeline
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE . cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS expr_fragments_or_function_declaration
   28 cmd_pipeline: . cmd_instruction
   29             | . cmd_pipeline CMD_PIPE cmd_instruction
   30 cmd_instruction: . cmd_command
   31                | . cmd_function_declaration
   32 cmd_command: . cmd_arguments
   33 cmd_arguments: . cmd_fragments
   34              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   35 cmd_fragments: . cmd_fragment
   36              | . cmd_fragments cmd_fragment
   37              | . cmd_fragments cmd_keyword_as_string
   47 cmd_fragment: . cmd_fragment_or_variable
   48             | . cmd_number
   49             | . SINGLE_QUOTED
   50             | . DOUBLE_QUOTED
   51             | . CMD_DOLLAR VARIABLE
   52             | . CMD_DOLLAR CMD_NUMBER
   53             | . CMD_DOLLAR QUESTION_MARK
   54             | . CMD_BEGIN_COMMAND cmd_pipeline END_PAREN
   55             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_pipeline END_PAREN
   56             | . CMD_BEGIN_PAREN expression END_PAREN
   57 cmd_number: . CMD_NUMBER
   58 cmd_fragment_or_variable: . CMD_MAP
   59                         | . CMD_FRAGMENT
   60                         | . VARIABLE
   61 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   62                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 228
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_pipeline              go to state 21
    cmd_instruction           go to state 22
    cmd_command               go to state 23
    cmd_arguments             go to state 24
    cmd_fragments             go to state 25
    cmd_fragment              go to state 26
    cmd_number                go to state 27
    cmd_fragment_or_variable  go to state 28
    cmd_function_declaration  go to state 29


State 227

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR . VARIABLE cmd_optional_whitespace

    VARIABLE  shift, and go to state 229


State 228

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 230
    CMD_TERMINATING_NEWLINE   shift, and go to state 63
    CMD_SEMICOLON             shift, and go to state 64
    EXPR_SEMICOLON            shift, and go to state 65
    EXPR_TERMINATING_NEWLINE  shift, and go to state 66

    cmd_terminator  go to state 67


State 229

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE . cmd_optional_whitespace

    CMD_WHITESPACE           shift, and go to state 30
    CMD_TERMINATING_NEWLINE  shift, and go to state 31

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 231


State 230

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 20 (cmd_statement)


State 231

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace .

    $default  reduce using rule 23 (cmd_mapping)
