Terminals unused in grammar

   CMD_REDIRECT_IN
   CMD_REDIRECT_OUT
   EXPR_AMPERSAND
   EXPR_PIPE
   EXPR_COLON
   UNTERMINATED_LEXING_BLOCK
   ERROR


Grammar

    0 $accept: cmd_root $end

    1 cmd_root: cmd_statements

    2 cmd_statements: cmd_statement
    3               | cmd_statements cmd_terminator cmd_statement

    4 cmd_terminator: CMD_TERMINATING_NEWLINE
    5               | EXPR_TERMINATING_NEWLINE
    6               | CMD_SEMICOLON
    7               | EXPR_SEMICOLON

    8 cmd_optional_whitespace: %empty
    9                        | CMD_WHITESPACE
   10                        | CMD_TERMINATING_NEWLINE

   11 cmd_statement: cmd_chain_exec CMD_AMPERSAND
   12              | cmd_chain_exec
   13              | cmd_assignment
   14              | CMD_COLON expression
   15              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | %empty

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | CMD_DOLLAR VARIABLE cmd_optional_whitespace

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration

   28 cmd_chain_exec: cmd_chain

   29 cmd_chain: cmd_pipeline
   30          | cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain

   32 cmd_pipeline: cmd_instruction
   33             | cmd_pipeline CMD_PIPE cmd_instruction

   34 cmd_instruction: cmd_command
   35                | cmd_function_declaration

   36 cmd_command: cmd_arguments

   37 cmd_arguments: cmd_fragments
   38              | cmd_arguments CMD_WHITESPACE cmd_fragments

   39 cmd_fragments: cmd_fragment
   40              | cmd_fragments cmd_fragment
   41              | cmd_fragments cmd_keyword_as_string

   42 cmd_keyword_as_string: KEYWORD_IF
   43                      | KEYWORD_ELSE
   44                      | KEYWORD_WHILE
   45                      | KEYWORD_FOR
   46                      | KEYWORD_FOREACH
   47                      | KEYWORD_DO
   48                      | KEYWORD_BREAK
   49                      | KEYWORD_CONTINUE
   50                      | KEYWORD_AS

   51 cmd_fragment: cmd_fragment_or_variable
   52             | cmd_number
   53             | SINGLE_QUOTED
   54             | DOUBLE_QUOTED
   55             | CMD_DOLLAR VARIABLE
   56             | CMD_DOLLAR CMD_NUMBER
   57             | CMD_DOLLAR QUESTION_MARK
   58             | CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | CMD_BEGIN_PAREN expression END_PAREN

   61 cmd_number: CMD_NUMBER

   62 cmd_fragment_or_variable: CMD_MAP
   63                         | CMD_FRAGMENT
   64                         | VARIABLE

   65 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

   67 expr_fragments_or_function_declaration: expr_fragments
   68                                       | expr_function_declaration

   69 expr_key_values: expr_key_name
   70                | expr_key_name EXPR_EQUALS_ASSIGN expr_fragment
   71                | expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS_ASSIGN expr_fragment
   72                | expr_key_values EXPR_COMMA expr_key_name

   73 expr_key_name: expr_fragment_or_variable
   74              | QUESTION_MARK

   75 expr_fragment_or_variable: EXPR_FRAGMENT
   76                          | VARIABLE

   77 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN

   79 expression: expr_fragment
   80           | expression EXPR_ACCESS expression
   81           | expression EXPR_BEGIN_PAREN END_PAREN
   82           | expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | EXPR_NOT expression
   84           | expression EXPR_DIVIDE expression
   85           | expression EXPR_MULTIPLY expression
   86           | expression EXPR_ADD expression
   87           | expression EXPR_MINUS expression
   88           | expression EXPR_EQUALS_COMPARE expression
   89           | expression EXPR_NOT_EQUALS expression
   90           | expression EXPR_LESS_THAN_EQUALS expression
   91           | expression EXPR_LESS_THAN expression
   92           | expression EXPR_GREATER_THAN_EQUALS expression
   93           | expression EXPR_GREATER_THAN expression
   94           | expr_function_declaration

   95 expr_fragments: expr_fragment
   96               | expr_fragments expr_fragment
   97               | expr_fragments expr_keyword_as_string

   98 expr_keyword_as_string: KEYWORD_IF
   99                       | KEYWORD_ELSE
  100                       | KEYWORD_WHILE
  101                       | KEYWORD_FOR
  102                       | KEYWORD_FOREACH
  103                       | KEYWORD_DO
  104                       | KEYWORD_BREAK
  105                       | KEYWORD_CONTINUE
  106                       | KEYWORD_AS

  107 expr_fragment: expr_fragment_or_variable
  108              | expr_number
  109              | PHP
  110              | SINGLE_QUOTED
  111              | DOUBLE_QUOTED
  112              | EXPR_DOLLAR VARIABLE
  113              | EXPR_DOLLAR EXPR_NUMBER
  114              | EXPR_DOLLAR QUESTION_MARK
  115              | EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | EXPR_BEGIN_PAREN expression END_PAREN
  118              | expr_array_decl

  119 expr_array_decl: EXPR_BEGIN_ARRAY END_PAREN
  120                | EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN

  122 expr_array_def: expr_array_element
  123               | expr_array_def EXPR_COMMA expr_array_element

  124 expr_array_element: expr_fragment EXPR_MAP expr_fragment
  125                   | expr_fragment

  126 expr_number: EXPR_NUMBER

  127 expr_comma_arguments: expr_fragments
  128                     | expr_comma_arguments EXPR_COMMA expr_fragments


Terminals, with rules where they appear

$end (0) 0
error (256)
SINGLE_QUOTED (258) 53 110
DOUBLE_QUOTED (259) 54 111
KEYWORD_WHILE (260) 17 18 44 100
KEYWORD_DO (261) 18 47 103
KEYWORD_FOR (262) 20 45 101
KEYWORD_FOREACH (263) 19 46 102
KEYWORD_BREAK (264) 48 104
KEYWORD_CONTINUE (265) 49 105
KEYWORD_IF (266) 15 16 42 98
KEYWORD_ELSE (267) 15 43 99
KEYWORD_AS (268) 19 20 50 106
KEYWORD_RETURN (269) 21
VARIABLE (270) 23 24 25 55 64 76 112
END_PAREN (271) 58 59 60 65 66 77 78 81 82 115 116 117 119 120 121
BEGIN_BRACE (272) 15 16 17 18 19 20 65 77
END_BRACE (273) 15 16 17 18 19 20 65 77
END_SQUARE (274) 27
QUESTION_MARK (275) 57 74 114
CMD_FRAGMENT (276) 63
CMD_MAP (277) 23 62 65 66
CMD_NUMBER (278) 56 61
CMD_DOLLAR (279) 23 24 55 56 57 59
CMD_AMPERSAND (280) 11
CMD_PIPE (281) 33
CMD_COLON (282) 14 25 26 27
CMD_DOUBLE_PIPE (283) 30
CMD_DOUBLE_AMPERSAND (284) 31
CMD_REDIRECT_IN (285)
CMD_REDIRECT_OUT (286)
CMD_WHITESPACE (287) 9 21 38
CMD_TERMINATING_NEWLINE (288) 4 10
CMD_BEGIN_COMMAND (289) 58
CMD_BEGIN_PAREN (290) 60 65 66
CMD_BEGIN_SQUARE (291) 59
CMD_SEMICOLON (292) 6
PHP (293) 109
EXPR_FRAGMENT (294) 75
EXPR_NUMBER (295) 113 126
EXPR_DOLLAR (296) 25 112 113 114 116
EXPR_ACCESS (297) 26 27 80
EXPR_MAP (298) 77 78 124
EXPR_AMPERSAND (299)
EXPR_PIPE (300)
EXPR_EQUALS_ASSIGN (301) 25 26 27 70 71
EXPR_COMMA (302) 71 72 121 123 128
EXPR_SEMICOLON (303) 7
EXPR_COLON (304)
EXPR_ADD (305) 86
EXPR_MINUS (306) 87
EXPR_MULTIPLY (307) 85
EXPR_DIVIDE (308) 84
EXPR_EQUALS_COMPARE (309) 88
EXPR_NOT_EQUALS (310) 89
EXPR_LESS_THAN_EQUALS (311) 90
EXPR_LESS_THAN (312) 91
EXPR_GREATER_THAN_EQUALS (313) 92
EXPR_GREATER_THAN (314) 93
EXPR_NOT (315) 83
EXPR_BEGIN_COMMAND (316) 115
EXPR_BEGIN_ARRAY (317) 119 120 121
EXPR_BEGIN_PAREN (318) 77 78 81 82 117
EXPR_BEGIN_SQUARE (319) 27 116
EXPR_END_SQUARE_BEGIN_COMMAND (320) 59 116
EXPR_TERMINATING_NEWLINE (321) 5
UNTERMINATED_LEXING_BLOCK (322)
ERROR (323)


Nonterminals, with rules where they appear

$accept (69)
    on left: 0
cmd_root (70)
    on left: 1, on right: 0
cmd_statements (71)
    on left: 2 3, on right: 1 3 15 16 17 18 19 20 65 77
cmd_terminator (72)
    on left: 4 5 6 7, on right: 3
cmd_optional_whitespace (73)
    on left: 8 9 10, on right: 15 16 17 18 19 20 23 24 65 66
cmd_statement (74)
    on left: 11 12 13 14 15 16 17 18 19 20 21 22, on right: 2 3
cmd_mapping (75)
    on left: 23 24, on right: 19 20
cmd_assignment (76)
    on left: 25 26 27, on right: 13
cmd_chain_exec (77)
    on left: 28, on right: 11 12 58 59 115 116
cmd_chain (78)
    on left: 29 30 31, on right: 28 30 31
cmd_pipeline (79)
    on left: 32 33, on right: 29 33
cmd_instruction (80)
    on left: 34 35, on right: 32 33
cmd_command (81)
    on left: 36, on right: 34
cmd_arguments (82)
    on left: 37 38, on right: 36 38
cmd_fragments (83)
    on left: 39 40 41, on right: 37 38 40 41
cmd_keyword_as_string (84)
    on left: 42 43 44 45 46 47 48 49 50, on right: 41
cmd_fragment (85)
    on left: 51 52 53 54 55 56 57 58 59 60, on right: 15 16 17 18 19
    20 21 39 40
cmd_number (86)
    on left: 61, on right: 52
cmd_fragment_or_variable (87)
    on left: 62 63 64, on right: 51
cmd_function_declaration (88)
    on left: 65 66, on right: 35
expr_fragments_or_function_declaration (89)
    on left: 67 68, on right: 25 26 27
expr_key_values (90)
    on left: 69 70 71 72, on right: 59 71 72 116
expr_key_name (91)
    on left: 73 74, on right: 69 70 71 72
expr_fragment_or_variable (92)
    on left: 75 76, on right: 73 107
expr_function_declaration (93)
    on left: 77 78, on right: 68 94
expression (94)
    on left: 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94, on right:
    14 26 27 60 66 78 80 81 82 83 84 85 86 87 88 89 90 91 92 93 117
expr_fragments (95)
    on left: 95 96 97, on right: 67 96 97 127 128
expr_keyword_as_string (96)
    on left: 98 99 100 101 102 103 104 105 106, on right: 97
expr_fragment (97)
    on left: 107 108 109 110 111 112 113 114 115 116 117 118, on right:
    70 71 79 95 96 124 125
expr_array_decl (98)
    on left: 119 120 121, on right: 118
expr_array_def (99)
    on left: 122 123, on right: 120 121 123
expr_array_element (100)
    on left: 124 125, on right: 122 123
expr_number (101)
    on left: 126, on right: 108
expr_comma_arguments (102)
    on left: 127 128, on right: 82 128


State 0

    0 $accept: . cmd_root $end
    1 cmd_root: . cmd_statements
    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [$end, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_root                  go to state 17
    cmd_statements            go to state 18
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 1

   53 cmd_fragment: SINGLE_QUOTED .

    $default  reduce using rule 53 (cmd_fragment)


State 2

   54 cmd_fragment: DOUBLE_QUOTED .

    $default  reduce using rule 54 (cmd_fragment)


State 3

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   17 cmd_statement: KEYWORD_WHILE . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 34


State 4

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   18 cmd_statement: KEYWORD_DO . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 35


State 5

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 36


State 6

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   19 cmd_statement: KEYWORD_FOREACH . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 37


State 7

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   15 cmd_statement: KEYWORD_IF . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 38


State 8

   21 cmd_statement: KEYWORD_RETURN . CMD_WHITESPACE cmd_fragment

    CMD_WHITESPACE  shift, and go to state 39


State 9

   64 cmd_fragment_or_variable: VARIABLE .

    $default  reduce using rule 64 (cmd_fragment_or_variable)


State 10

   63 cmd_fragment_or_variable: CMD_FRAGMENT .

    $default  reduce using rule 63 (cmd_fragment_or_variable)


State 11

   62 cmd_fragment_or_variable: CMD_MAP .

    $default  reduce using rule 62 (cmd_fragment_or_variable)


State 12

   61 cmd_number: CMD_NUMBER .

    $default  reduce using rule 61 (cmd_number)


State 13

   55 cmd_fragment: CMD_DOLLAR . VARIABLE
   56             | CMD_DOLLAR . CMD_NUMBER
   57             | CMD_DOLLAR . QUESTION_MARK
   59             | CMD_DOLLAR . CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN

    VARIABLE          shift, and go to state 40
    QUESTION_MARK     shift, and go to state 41
    CMD_NUMBER        shift, and go to state 42
    CMD_BEGIN_SQUARE  shift, and go to state 43


State 14

   14 cmd_statement: CMD_COLON . expression
   25 cmd_assignment: CMD_COLON . EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | CMD_COLON . expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | CMD_COLON . expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 50
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 57
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 15

   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   58             | CMD_BEGIN_COMMAND . cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_chain_exec            go to state 61
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 16

   60 cmd_fragment: CMD_BEGIN_PAREN . expression END_PAREN
   65 cmd_function_declaration: CMD_BEGIN_PAREN . END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | CMD_BEGIN_PAREN . END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    END_PAREN           shift, and go to state 62
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 64
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 17

    0 $accept: cmd_root . $end

    $end  shift, and go to state 65


State 18

    1 cmd_root: cmd_statements .  [$end]
    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON

    CMD_TERMINATING_NEWLINE   shift, and go to state 66
    CMD_SEMICOLON             shift, and go to state 67
    EXPR_SEMICOLON            shift, and go to state 68
    EXPR_TERMINATING_NEWLINE  shift, and go to state 69

    $default  reduce using rule 1 (cmd_root)

    cmd_terminator  go to state 70


State 19

    2 cmd_statements: cmd_statement .

    $default  reduce using rule 2 (cmd_statements)


State 20

   13 cmd_statement: cmd_assignment .

    $default  reduce using rule 13 (cmd_statement)


State 21

   11 cmd_statement: cmd_chain_exec . CMD_AMPERSAND
   12              | cmd_chain_exec .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]

    CMD_AMPERSAND  shift, and go to state 71

    $default  reduce using rule 12 (cmd_statement)


State 22

   28 cmd_chain_exec: cmd_chain .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   30 cmd_chain: cmd_chain . CMD_DOUBLE_PIPE cmd_chain
   31          | cmd_chain . CMD_DOUBLE_AMPERSAND cmd_chain

    CMD_DOUBLE_PIPE       shift, and go to state 72
    CMD_DOUBLE_AMPERSAND  shift, and go to state 73

    $default  reduce using rule 28 (cmd_chain_exec)


State 23

   29 cmd_chain: cmd_pipeline .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_DOUBLE_PIPE, CMD_DOUBLE_AMPERSAND, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   33 cmd_pipeline: cmd_pipeline . CMD_PIPE cmd_instruction

    CMD_PIPE  shift, and go to state 74

    $default  reduce using rule 29 (cmd_chain)


State 24

   32 cmd_pipeline: cmd_instruction .

    $default  reduce using rule 32 (cmd_pipeline)


State 25

   34 cmd_instruction: cmd_command .

    $default  reduce using rule 34 (cmd_instruction)


State 26

   36 cmd_command: cmd_arguments .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_PIPE, CMD_DOUBLE_PIPE, CMD_DOUBLE_AMPERSAND, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   38 cmd_arguments: cmd_arguments . CMD_WHITESPACE cmd_fragments

    CMD_WHITESPACE  shift, and go to state 75

    $default  reduce using rule 36 (cmd_command)


State 27

   37 cmd_arguments: cmd_fragments .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_PIPE, CMD_DOUBLE_PIPE, CMD_DOUBLE_AMPERSAND, CMD_WHITESPACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   40 cmd_fragments: cmd_fragments . cmd_fragment
   41              | cmd_fragments . cmd_keyword_as_string
   42 cmd_keyword_as_string: . KEYWORD_IF
   43                      | . KEYWORD_ELSE
   44                      | . KEYWORD_WHILE
   45                      | . KEYWORD_FOR
   46                      | . KEYWORD_FOREACH
   47                      | . KEYWORD_DO
   48                      | . KEYWORD_BREAK
   49                      | . KEYWORD_CONTINUE
   50                      | . KEYWORD_AS
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 76
    KEYWORD_DO         shift, and go to state 77
    KEYWORD_FOR        shift, and go to state 78
    KEYWORD_FOREACH    shift, and go to state 79
    KEYWORD_BREAK      shift, and go to state 80
    KEYWORD_CONTINUE   shift, and go to state 81
    KEYWORD_IF         shift, and go to state 82
    KEYWORD_ELSE       shift, and go to state 83
    KEYWORD_AS         shift, and go to state 84
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    $default  reduce using rule 37 (cmd_arguments)

    cmd_keyword_as_string     go to state 86
    cmd_fragment              go to state 87
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 28

   39 cmd_fragments: cmd_fragment .

    $default  reduce using rule 39 (cmd_fragments)


State 29

   52 cmd_fragment: cmd_number .

    $default  reduce using rule 52 (cmd_fragment)


State 30

   51 cmd_fragment: cmd_fragment_or_variable .

    $default  reduce using rule 51 (cmd_fragment)


State 31

   35 cmd_instruction: cmd_function_declaration .

    $default  reduce using rule 35 (cmd_instruction)


State 32

    9 cmd_optional_whitespace: CMD_WHITESPACE .

    $default  reduce using rule 9 (cmd_optional_whitespace)


State 33

   10 cmd_optional_whitespace: CMD_TERMINATING_NEWLINE .

    $default  reduce using rule 10 (cmd_optional_whitespace)


State 34

   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    cmd_fragment              go to state 88
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 35

   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment

    BEGIN_BRACE  shift, and go to state 89


State 36

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    cmd_fragment              go to state 90
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 37

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    cmd_fragment              go to state 91
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 38

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    cmd_fragment              go to state 92
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 39

   21 cmd_statement: KEYWORD_RETURN CMD_WHITESPACE . cmd_fragment
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    cmd_fragment              go to state 93
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 40

   55 cmd_fragment: CMD_DOLLAR VARIABLE .

    $default  reduce using rule 55 (cmd_fragment)


State 41

   57 cmd_fragment: CMD_DOLLAR QUESTION_MARK .

    $default  reduce using rule 57 (cmd_fragment)


State 42

   56 cmd_fragment: CMD_DOLLAR CMD_NUMBER .

    $default  reduce using rule 56 (cmd_fragment)


State 43

   59 cmd_fragment: CMD_DOLLAR CMD_BEGIN_SQUARE . expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   69 expr_key_values: . expr_key_name
   70                | . expr_key_name EXPR_EQUALS_ASSIGN expr_fragment
   71                | . expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS_ASSIGN expr_fragment
   72                | . expr_key_values EXPR_COMMA expr_key_name
   73 expr_key_name: . expr_fragment_or_variable
   74              | . QUESTION_MARK
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE

    VARIABLE       shift, and go to state 46
    QUESTION_MARK  shift, and go to state 94
    EXPR_FRAGMENT  shift, and go to state 48

    expr_key_values            go to state 95
    expr_key_name              go to state 96
    expr_fragment_or_variable  go to state 97


State 44

  110 expr_fragment: SINGLE_QUOTED .

    $default  reduce using rule 110 (expr_fragment)


State 45

  111 expr_fragment: DOUBLE_QUOTED .

    $default  reduce using rule 111 (expr_fragment)


State 46

   76 expr_fragment_or_variable: VARIABLE .

    $default  reduce using rule 76 (expr_fragment_or_variable)


State 47

  109 expr_fragment: PHP .

    $default  reduce using rule 109 (expr_fragment)


State 48

   75 expr_fragment_or_variable: EXPR_FRAGMENT .

    $default  reduce using rule 75 (expr_fragment_or_variable)


State 49

  126 expr_number: EXPR_NUMBER .

    $default  reduce using rule 126 (expr_number)


State 50

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR . VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
  112 expr_fragment: EXPR_DOLLAR . VARIABLE
  113              | EXPR_DOLLAR . EXPR_NUMBER
  114              | EXPR_DOLLAR . QUESTION_MARK
  116              | EXPR_DOLLAR . EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN

    VARIABLE           shift, and go to state 98
    QUESTION_MARK      shift, and go to state 99
    EXPR_NUMBER        shift, and go to state 100
    EXPR_BEGIN_SQUARE  shift, and go to state 101


State 51

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   83           | EXPR_NOT . expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 102
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 52

   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN
  115 expr_fragment: EXPR_BEGIN_COMMAND . cmd_chain_exec END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_chain_exec            go to state 103
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 53

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  119                | EXPR_BEGIN_ARRAY . END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  120                | EXPR_BEGIN_ARRAY . expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  121                | EXPR_BEGIN_ARRAY . expr_array_def EXPR_COMMA END_PAREN
  122 expr_array_def: . expr_array_element
  123               | . expr_array_def EXPR_COMMA expr_array_element
  124 expr_array_element: . expr_fragment EXPR_MAP expr_fragment
  125                   | . expr_fragment
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    END_PAREN           shift, and go to state 104
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    expr_fragment_or_variable  go to state 55
    expr_fragment              go to state 106
    expr_array_decl            go to state 59
    expr_array_def             go to state 107
    expr_array_element         go to state 108
    expr_number                go to state 60


State 54

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   77                          | EXPR_BEGIN_PAREN . END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   78                          | EXPR_BEGIN_PAREN . END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  117              | EXPR_BEGIN_PAREN . expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    END_PAREN           shift, and go to state 109
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 110
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 55

  107 expr_fragment: expr_fragment_or_variable .

    $default  reduce using rule 107 (expr_fragment)


State 56

   94 expression: expr_function_declaration .

    $default  reduce using rule 94 (expression)


State 57

   14 cmd_statement: CMD_COLON expression .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   26 cmd_assignment: CMD_COLON expression . EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | CMD_COLON expression . EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS               shift, and go to state 111
    EXPR_ADD                  shift, and go to state 112
    EXPR_MINUS                shift, and go to state 113
    EXPR_MULTIPLY             shift, and go to state 114
    EXPR_DIVIDE               shift, and go to state 115
    EXPR_EQUALS_COMPARE       shift, and go to state 116
    EXPR_NOT_EQUALS           shift, and go to state 117
    EXPR_LESS_THAN_EQUALS     shift, and go to state 118
    EXPR_LESS_THAN            shift, and go to state 119
    EXPR_GREATER_THAN_EQUALS  shift, and go to state 120
    EXPR_GREATER_THAN         shift, and go to state 121
    EXPR_BEGIN_PAREN          shift, and go to state 122

    $default  reduce using rule 14 (cmd_statement)


State 58

   79 expression: expr_fragment .

    $default  reduce using rule 79 (expression)


State 59

  118 expr_fragment: expr_array_decl .

    $default  reduce using rule 118 (expr_fragment)


State 60

  108 expr_fragment: expr_number .

    $default  reduce using rule 108 (expr_fragment)


State 61

   58 cmd_fragment: CMD_BEGIN_COMMAND cmd_chain_exec . END_PAREN

    END_PAREN  shift, and go to state 123


State 62

    8 cmd_optional_whitespace: . %empty  [CMD_MAP]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   65 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN . cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | CMD_BEGIN_PAREN END_PAREN . cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 124


State 63

  112 expr_fragment: EXPR_DOLLAR . VARIABLE
  113              | EXPR_DOLLAR . EXPR_NUMBER
  114              | EXPR_DOLLAR . QUESTION_MARK
  116              | EXPR_DOLLAR . EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN

    VARIABLE           shift, and go to state 125
    QUESTION_MARK      shift, and go to state 99
    EXPR_NUMBER        shift, and go to state 100
    EXPR_BEGIN_SQUARE  shift, and go to state 101


State 64

   60 cmd_fragment: CMD_BEGIN_PAREN expression . END_PAREN
   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    END_PAREN                 shift, and go to state 126
    EXPR_ACCESS               shift, and go to state 127
    EXPR_ADD                  shift, and go to state 112
    EXPR_MINUS                shift, and go to state 113
    EXPR_MULTIPLY             shift, and go to state 114
    EXPR_DIVIDE               shift, and go to state 115
    EXPR_EQUALS_COMPARE       shift, and go to state 116
    EXPR_NOT_EQUALS           shift, and go to state 117
    EXPR_LESS_THAN_EQUALS     shift, and go to state 118
    EXPR_LESS_THAN            shift, and go to state 119
    EXPR_GREATER_THAN_EQUALS  shift, and go to state 120
    EXPR_GREATER_THAN         shift, and go to state 121
    EXPR_BEGIN_PAREN          shift, and go to state 122


State 65

    0 $accept: cmd_root $end .

    $default  accept


State 66

    4 cmd_terminator: CMD_TERMINATING_NEWLINE .

    $default  reduce using rule 4 (cmd_terminator)


State 67

    6 cmd_terminator: CMD_SEMICOLON .

    $default  reduce using rule 6 (cmd_terminator)


State 68

    7 cmd_terminator: EXPR_SEMICOLON .

    $default  reduce using rule 7 (cmd_terminator)


State 69

    5 cmd_terminator: EXPR_TERMINATING_NEWLINE .

    $default  reduce using rule 5 (cmd_terminator)


State 70

    3 cmd_statements: cmd_statements cmd_terminator . cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statement             go to state 128
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 71

   11 cmd_statement: cmd_chain_exec CMD_AMPERSAND .

    $default  reduce using rule 11 (cmd_statement)


State 72

   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   30          | cmd_chain CMD_DOUBLE_PIPE . cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_chain                 go to state 129
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 73

   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   31          | cmd_chain CMD_DOUBLE_AMPERSAND . cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_chain                 go to state 130
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 74

   33 cmd_pipeline: cmd_pipeline CMD_PIPE . cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_instruction           go to state 131
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 75

   38 cmd_arguments: cmd_arguments CMD_WHITESPACE . cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    cmd_fragments             go to state 132
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 76

   44 cmd_keyword_as_string: KEYWORD_WHILE .

    $default  reduce using rule 44 (cmd_keyword_as_string)


State 77

   47 cmd_keyword_as_string: KEYWORD_DO .

    $default  reduce using rule 47 (cmd_keyword_as_string)


State 78

   45 cmd_keyword_as_string: KEYWORD_FOR .

    $default  reduce using rule 45 (cmd_keyword_as_string)


State 79

   46 cmd_keyword_as_string: KEYWORD_FOREACH .

    $default  reduce using rule 46 (cmd_keyword_as_string)


State 80

   48 cmd_keyword_as_string: KEYWORD_BREAK .

    $default  reduce using rule 48 (cmd_keyword_as_string)


State 81

   49 cmd_keyword_as_string: KEYWORD_CONTINUE .

    $default  reduce using rule 49 (cmd_keyword_as_string)


State 82

   42 cmd_keyword_as_string: KEYWORD_IF .

    $default  reduce using rule 42 (cmd_keyword_as_string)


State 83

   43 cmd_keyword_as_string: KEYWORD_ELSE .

    $default  reduce using rule 43 (cmd_keyword_as_string)


State 84

   50 cmd_keyword_as_string: KEYWORD_AS .

    $default  reduce using rule 50 (cmd_keyword_as_string)


State 85

   60 cmd_fragment: CMD_BEGIN_PAREN . expression END_PAREN
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 64
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 86

   41 cmd_fragments: cmd_fragments cmd_keyword_as_string .

    $default  reduce using rule 41 (cmd_fragments)


State 87

   40 cmd_fragments: cmd_fragments cmd_fragment .

    $default  reduce using rule 40 (cmd_fragments)


State 88

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 133


State 89

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   18              | KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 134
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 90

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 135


State 91

    8 cmd_optional_whitespace: . %empty  [KEYWORD_AS]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 136


State 92

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 137


State 93

   21 cmd_statement: KEYWORD_RETURN CMD_WHITESPACE cmd_fragment .

    $default  reduce using rule 21 (cmd_statement)


State 94

   74 expr_key_name: QUESTION_MARK .

    $default  reduce using rule 74 (expr_key_name)


State 95

   59 cmd_fragment: CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values . EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   71 expr_key_values: expr_key_values . EXPR_COMMA expr_key_name EXPR_EQUALS_ASSIGN expr_fragment
   72                | expr_key_values . EXPR_COMMA expr_key_name

    EXPR_COMMA                     shift, and go to state 138
    EXPR_END_SQUARE_BEGIN_COMMAND  shift, and go to state 139


State 96

   69 expr_key_values: expr_key_name .  [EXPR_COMMA, EXPR_END_SQUARE_BEGIN_COMMAND]
   70                | expr_key_name . EXPR_EQUALS_ASSIGN expr_fragment

    EXPR_EQUALS_ASSIGN  shift, and go to state 140

    $default  reduce using rule 69 (expr_key_values)


State 97

   73 expr_key_name: expr_fragment_or_variable .

    $default  reduce using rule 73 (expr_key_name)


State 98

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR VARIABLE . EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
  112 expr_fragment: EXPR_DOLLAR VARIABLE .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_ACCESS, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_BEGIN_PAREN, EXPR_TERMINATING_NEWLINE]

    EXPR_EQUALS_ASSIGN  shift, and go to state 141

    $default  reduce using rule 112 (expr_fragment)


State 99

  114 expr_fragment: EXPR_DOLLAR QUESTION_MARK .

    $default  reduce using rule 114 (expr_fragment)


State 100

  113 expr_fragment: EXPR_DOLLAR EXPR_NUMBER .

    $default  reduce using rule 113 (expr_fragment)


State 101

   69 expr_key_values: . expr_key_name
   70                | . expr_key_name EXPR_EQUALS_ASSIGN expr_fragment
   71                | . expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS_ASSIGN expr_fragment
   72                | . expr_key_values EXPR_COMMA expr_key_name
   73 expr_key_name: . expr_fragment_or_variable
   74              | . QUESTION_MARK
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
  116 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE . expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN

    VARIABLE       shift, and go to state 46
    QUESTION_MARK  shift, and go to state 94
    EXPR_FRAGMENT  shift, and go to state 48

    expr_key_values            go to state 142
    expr_key_name              go to state 96
    expr_fragment_or_variable  go to state 97


State 102

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | EXPR_NOT expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_TERMINATING_NEWLINE]
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS       shift, and go to state 127
    EXPR_BEGIN_PAREN  shift, and go to state 122

    $default  reduce using rule 83 (expression)

    Conflict between rule 83 and token EXPR_ACCESS resolved as shift (EXPR_NOT < EXPR_ACCESS).
    Conflict between rule 83 and token EXPR_ADD resolved as reduce (EXPR_ADD < EXPR_NOT).
    Conflict between rule 83 and token EXPR_MINUS resolved as reduce (EXPR_MINUS < EXPR_NOT).
    Conflict between rule 83 and token EXPR_MULTIPLY resolved as reduce (EXPR_MULTIPLY < EXPR_NOT).
    Conflict between rule 83 and token EXPR_DIVIDE resolved as reduce (EXPR_DIVIDE < EXPR_NOT).
    Conflict between rule 83 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_NOT).
    Conflict between rule 83 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_NOT).
    Conflict between rule 83 and token EXPR_LESS_THAN_EQUALS resolved as reduce (EXPR_LESS_THAN_EQUALS < EXPR_NOT).
    Conflict between rule 83 and token EXPR_LESS_THAN resolved as reduce (EXPR_LESS_THAN < EXPR_NOT).
    Conflict between rule 83 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (EXPR_GREATER_THAN_EQUALS < EXPR_NOT).
    Conflict between rule 83 and token EXPR_GREATER_THAN resolved as reduce (EXPR_GREATER_THAN < EXPR_NOT).
    Conflict between rule 83 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_NOT < EXPR_BEGIN_PAREN).


State 103

  115 expr_fragment: EXPR_BEGIN_COMMAND cmd_chain_exec . END_PAREN

    END_PAREN  shift, and go to state 143


State 104

  119 expr_array_decl: EXPR_BEGIN_ARRAY END_PAREN .

    $default  reduce using rule 119 (expr_array_decl)


State 105

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  117              | EXPR_BEGIN_PAREN . expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 110
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 106

  124 expr_array_element: expr_fragment . EXPR_MAP expr_fragment
  125                   | expr_fragment .  [END_PAREN, EXPR_COMMA]

    EXPR_MAP  shift, and go to state 144

    $default  reduce using rule 125 (expr_array_element)


State 107

  120 expr_array_decl: EXPR_BEGIN_ARRAY expr_array_def . END_PAREN
  121                | EXPR_BEGIN_ARRAY expr_array_def . EXPR_COMMA END_PAREN
  123 expr_array_def: expr_array_def . EXPR_COMMA expr_array_element

    END_PAREN   shift, and go to state 145
    EXPR_COMMA  shift, and go to state 146


State 108

  122 expr_array_def: expr_array_element .

    $default  reduce using rule 122 (expr_array_def)


State 109

   77 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN . EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | EXPR_BEGIN_PAREN END_PAREN . EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN

    EXPR_MAP  shift, and go to state 147


State 110

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression
  117 expr_fragment: EXPR_BEGIN_PAREN expression . END_PAREN

    END_PAREN                 shift, and go to state 148
    EXPR_ACCESS               shift, and go to state 127
    EXPR_ADD                  shift, and go to state 112
    EXPR_MINUS                shift, and go to state 113
    EXPR_MULTIPLY             shift, and go to state 114
    EXPR_DIVIDE               shift, and go to state 115
    EXPR_EQUALS_COMPARE       shift, and go to state 116
    EXPR_NOT_EQUALS           shift, and go to state 117
    EXPR_LESS_THAN_EQUALS     shift, and go to state 118
    EXPR_LESS_THAN            shift, and go to state 119
    EXPR_GREATER_THAN_EQUALS  shift, and go to state 120
    EXPR_GREATER_THAN         shift, and go to state 121
    EXPR_BEGIN_PAREN          shift, and go to state 122


State 111

   26 cmd_assignment: CMD_COLON expression EXPR_ACCESS . expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | CMD_COLON expression EXPR_ACCESS . EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   80           | expression EXPR_ACCESS . expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54
    EXPR_BEGIN_SQUARE   shift, and go to state 149

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 150
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 112

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   86           | expression EXPR_ADD . expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 151
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 113

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   87           | expression EXPR_MINUS . expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 152
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 114

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   85           | expression EXPR_MULTIPLY . expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 153
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 115

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   84           | expression EXPR_DIVIDE . expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 154
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 116

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   88           | expression EXPR_EQUALS_COMPARE . expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 155
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 117

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   89           | expression EXPR_NOT_EQUALS . expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 156
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 118

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   90           | expression EXPR_LESS_THAN_EQUALS . expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 157
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 119

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   91           | expression EXPR_LESS_THAN . expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 158
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 120

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   92           | expression EXPR_GREATER_THAN_EQUALS . expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 159
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 121

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   93           | expression EXPR_GREATER_THAN . expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 160
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 122

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   81 expression: expression EXPR_BEGIN_PAREN . END_PAREN
   82           | expression EXPR_BEGIN_PAREN . expr_comma_arguments END_PAREN
   95 expr_fragments: . expr_fragment
   96               | . expr_fragments expr_fragment
   97               | . expr_fragments expr_keyword_as_string
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER
  127 expr_comma_arguments: . expr_fragments
  128                     | . expr_comma_arguments EXPR_COMMA expr_fragments

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    END_PAREN           shift, and go to state 161
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    expr_fragment_or_variable  go to state 55
    expr_fragments             go to state 162
    expr_fragment              go to state 163
    expr_array_decl            go to state 59
    expr_number                go to state 60
    expr_comma_arguments       go to state 164


State 123

   58 cmd_fragment: CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN .

    $default  reduce using rule 58 (cmd_fragment)


State 124

   65 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace . CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace . CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    CMD_MAP  shift, and go to state 165


State 125

  112 expr_fragment: EXPR_DOLLAR VARIABLE .

    $default  reduce using rule 112 (expr_fragment)


State 126

   60 cmd_fragment: CMD_BEGIN_PAREN expression END_PAREN .

    $default  reduce using rule 60 (cmd_fragment)


State 127

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   80           | expression EXPR_ACCESS . expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 166
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 128

    3 cmd_statements: cmd_statements cmd_terminator cmd_statement .

    $default  reduce using rule 3 (cmd_statements)


State 129

   30 cmd_chain: cmd_chain . CMD_DOUBLE_PIPE cmd_chain
   30          | cmd_chain CMD_DOUBLE_PIPE cmd_chain .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_DOUBLE_PIPE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   31          | cmd_chain . CMD_DOUBLE_AMPERSAND cmd_chain

    CMD_DOUBLE_AMPERSAND  shift, and go to state 73

    $default  reduce using rule 30 (cmd_chain)

    Conflict between rule 30 and token CMD_DOUBLE_PIPE resolved as reduce (%left CMD_DOUBLE_PIPE).
    Conflict between rule 30 and token CMD_DOUBLE_AMPERSAND resolved as shift (CMD_DOUBLE_PIPE < CMD_DOUBLE_AMPERSAND).


State 130

   30 cmd_chain: cmd_chain . CMD_DOUBLE_PIPE cmd_chain
   31          | cmd_chain . CMD_DOUBLE_AMPERSAND cmd_chain
   31          | cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_DOUBLE_PIPE, CMD_DOUBLE_AMPERSAND, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]

    $default  reduce using rule 31 (cmd_chain)

    Conflict between rule 31 and token CMD_DOUBLE_PIPE resolved as reduce (CMD_DOUBLE_PIPE < CMD_DOUBLE_AMPERSAND).
    Conflict between rule 31 and token CMD_DOUBLE_AMPERSAND resolved as reduce (%left CMD_DOUBLE_AMPERSAND).


State 131

   33 cmd_pipeline: cmd_pipeline CMD_PIPE cmd_instruction .

    $default  reduce using rule 33 (cmd_pipeline)


State 132

   38 cmd_arguments: cmd_arguments CMD_WHITESPACE cmd_fragments .  [$end, END_PAREN, END_BRACE, CMD_AMPERSAND, CMD_PIPE, CMD_DOUBLE_PIPE, CMD_DOUBLE_AMPERSAND, CMD_WHITESPACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   40 cmd_fragments: cmd_fragments . cmd_fragment
   41              | cmd_fragments . cmd_keyword_as_string
   42 cmd_keyword_as_string: . KEYWORD_IF
   43                      | . KEYWORD_ELSE
   44                      | . KEYWORD_WHILE
   45                      | . KEYWORD_FOR
   46                      | . KEYWORD_FOREACH
   47                      | . KEYWORD_DO
   48                      | . KEYWORD_BREAK
   49                      | . KEYWORD_CONTINUE
   50                      | . KEYWORD_AS
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 76
    KEYWORD_DO         shift, and go to state 77
    KEYWORD_FOR        shift, and go to state 78
    KEYWORD_FOREACH    shift, and go to state 79
    KEYWORD_BREAK      shift, and go to state 80
    KEYWORD_CONTINUE   shift, and go to state 81
    KEYWORD_IF         shift, and go to state 82
    KEYWORD_ELSE       shift, and go to state 83
    KEYWORD_AS         shift, and go to state 84
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    $default  reduce using rule 38 (cmd_arguments)

    cmd_keyword_as_string     go to state 86
    cmd_fragment              go to state 87
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 133

   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 167


State 134

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment

    END_BRACE                 shift, and go to state 168
    CMD_TERMINATING_NEWLINE   shift, and go to state 66
    CMD_SEMICOLON             shift, and go to state 67
    EXPR_SEMICOLON            shift, and go to state 68
    EXPR_TERMINATING_NEWLINE  shift, and go to state 69

    cmd_terminator  go to state 70


State 135

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    cmd_fragment              go to state 169
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 136

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    KEYWORD_AS  shift, and go to state 170


State 137

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 171


State 138

   71 expr_key_values: expr_key_values EXPR_COMMA . expr_key_name EXPR_EQUALS_ASSIGN expr_fragment
   72                | expr_key_values EXPR_COMMA . expr_key_name
   73 expr_key_name: . expr_fragment_or_variable
   74              | . QUESTION_MARK
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE

    VARIABLE       shift, and go to state 46
    QUESTION_MARK  shift, and go to state 94
    EXPR_FRAGMENT  shift, and go to state 48

    expr_key_name              go to state 172
    expr_fragment_or_variable  go to state 97


State 139

   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND . cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_chain_exec            go to state 173
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 140

   70 expr_key_values: expr_key_name EXPR_EQUALS_ASSIGN . expr_fragment
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    expr_fragment_or_variable  go to state 55
    expr_fragment              go to state 174
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 141

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN . expr_fragments_or_function_declaration
   67 expr_fragments_or_function_declaration: . expr_fragments
   68                                       | . expr_function_declaration
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   95 expr_fragments: . expr_fragment
   96               | . expr_fragments expr_fragment
   97               | . expr_fragments expr_keyword_as_string
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragments_or_function_declaration  go to state 175
    expr_fragment_or_variable               go to state 55
    expr_function_declaration               go to state 176
    expr_fragments                          go to state 177
    expr_fragment                           go to state 163
    expr_array_decl                         go to state 59
    expr_number                             go to state 60


State 142

   71 expr_key_values: expr_key_values . EXPR_COMMA expr_key_name EXPR_EQUALS_ASSIGN expr_fragment
   72                | expr_key_values . EXPR_COMMA expr_key_name
  116 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values . EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN

    EXPR_COMMA                     shift, and go to state 138
    EXPR_END_SQUARE_BEGIN_COMMAND  shift, and go to state 178


State 143

  115 expr_fragment: EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN .

    $default  reduce using rule 115 (expr_fragment)


State 144

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  124 expr_array_element: expr_fragment EXPR_MAP . expr_fragment
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    expr_fragment_or_variable  go to state 55
    expr_fragment              go to state 179
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 145

  120 expr_array_decl: EXPR_BEGIN_ARRAY expr_array_def END_PAREN .

    $default  reduce using rule 120 (expr_array_decl)


State 146

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  121                | EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA . END_PAREN
  123 expr_array_def: expr_array_def EXPR_COMMA . expr_array_element
  124 expr_array_element: . expr_fragment EXPR_MAP expr_fragment
  125                   | . expr_fragment
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    END_PAREN           shift, and go to state 180
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    expr_fragment_or_variable  go to state 55
    expr_fragment              go to state 106
    expr_array_decl            go to state 59
    expr_array_element         go to state 181
    expr_number                go to state 60


State 147

   77 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP . BEGIN_BRACE cmd_statements END_BRACE
   78                          | EXPR_BEGIN_PAREN END_PAREN EXPR_MAP . EXPR_BEGIN_PAREN expression END_PAREN

    BEGIN_BRACE       shift, and go to state 182
    EXPR_BEGIN_PAREN  shift, and go to state 183


State 148

  117 expr_fragment: EXPR_BEGIN_PAREN expression END_PAREN .

    $default  reduce using rule 117 (expr_fragment)


State 149

   27 cmd_assignment: CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE . END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration

    END_SQUARE  shift, and go to state 184


State 150

   26 cmd_assignment: CMD_COLON expression EXPR_ACCESS expression . EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   80 expression: expression . EXPR_ACCESS expression
   80           | expression EXPR_ACCESS expression .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_ACCESS, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_BEGIN_PAREN, EXPR_TERMINATING_NEWLINE]
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_EQUALS_ASSIGN  shift, and go to state 185

    $default  reduce using rule 80 (expression)

    Conflict between rule 80 and token EXPR_ACCESS resolved as reduce (%left EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_ADD resolved as reduce (EXPR_ADD < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_MINUS resolved as reduce (EXPR_MINUS < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_MULTIPLY resolved as reduce (EXPR_MULTIPLY < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_DIVIDE resolved as reduce (EXPR_DIVIDE < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_LESS_THAN_EQUALS resolved as reduce (EXPR_LESS_THAN_EQUALS < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_LESS_THAN resolved as reduce (EXPR_LESS_THAN < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (EXPR_GREATER_THAN_EQUALS < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_GREATER_THAN resolved as reduce (EXPR_GREATER_THAN < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_BEGIN_PAREN resolved as reduce (EXPR_BEGIN_PAREN < EXPR_ACCESS).


State 151

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   86           | expression EXPR_ADD expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_TERMINATING_NEWLINE]
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS       shift, and go to state 127
    EXPR_MULTIPLY     shift, and go to state 114
    EXPR_DIVIDE       shift, and go to state 115
    EXPR_BEGIN_PAREN  shift, and go to state 122

    $default  reduce using rule 86 (expression)

    Conflict between rule 86 and token EXPR_ACCESS resolved as shift (EXPR_ADD < EXPR_ACCESS).
    Conflict between rule 86 and token EXPR_ADD resolved as reduce (%left EXPR_ADD).
    Conflict between rule 86 and token EXPR_MINUS resolved as reduce (%left EXPR_MINUS).
    Conflict between rule 86 and token EXPR_MULTIPLY resolved as shift (EXPR_ADD < EXPR_MULTIPLY).
    Conflict between rule 86 and token EXPR_DIVIDE resolved as shift (EXPR_ADD < EXPR_DIVIDE).
    Conflict between rule 86 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_ADD).
    Conflict between rule 86 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_ADD).
    Conflict between rule 86 and token EXPR_LESS_THAN_EQUALS resolved as reduce (EXPR_LESS_THAN_EQUALS < EXPR_ADD).
    Conflict between rule 86 and token EXPR_LESS_THAN resolved as reduce (EXPR_LESS_THAN < EXPR_ADD).
    Conflict between rule 86 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (EXPR_GREATER_THAN_EQUALS < EXPR_ADD).
    Conflict between rule 86 and token EXPR_GREATER_THAN resolved as reduce (EXPR_GREATER_THAN < EXPR_ADD).
    Conflict between rule 86 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_ADD < EXPR_BEGIN_PAREN).


State 152

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   87           | expression EXPR_MINUS expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_TERMINATING_NEWLINE]
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS       shift, and go to state 127
    EXPR_MULTIPLY     shift, and go to state 114
    EXPR_DIVIDE       shift, and go to state 115
    EXPR_BEGIN_PAREN  shift, and go to state 122

    $default  reduce using rule 87 (expression)

    Conflict between rule 87 and token EXPR_ACCESS resolved as shift (EXPR_MINUS < EXPR_ACCESS).
    Conflict between rule 87 and token EXPR_ADD resolved as reduce (%left EXPR_ADD).
    Conflict between rule 87 and token EXPR_MINUS resolved as reduce (%left EXPR_MINUS).
    Conflict between rule 87 and token EXPR_MULTIPLY resolved as shift (EXPR_MINUS < EXPR_MULTIPLY).
    Conflict between rule 87 and token EXPR_DIVIDE resolved as shift (EXPR_MINUS < EXPR_DIVIDE).
    Conflict between rule 87 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_MINUS).
    Conflict between rule 87 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_MINUS).
    Conflict between rule 87 and token EXPR_LESS_THAN_EQUALS resolved as reduce (EXPR_LESS_THAN_EQUALS < EXPR_MINUS).
    Conflict between rule 87 and token EXPR_LESS_THAN resolved as reduce (EXPR_LESS_THAN < EXPR_MINUS).
    Conflict between rule 87 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (EXPR_GREATER_THAN_EQUALS < EXPR_MINUS).
    Conflict between rule 87 and token EXPR_GREATER_THAN resolved as reduce (EXPR_GREATER_THAN < EXPR_MINUS).
    Conflict between rule 87 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_MINUS < EXPR_BEGIN_PAREN).


State 153

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   85           | expression EXPR_MULTIPLY expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_TERMINATING_NEWLINE]
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS       shift, and go to state 127
    EXPR_BEGIN_PAREN  shift, and go to state 122

    $default  reduce using rule 85 (expression)

    Conflict between rule 85 and token EXPR_ACCESS resolved as shift (EXPR_MULTIPLY < EXPR_ACCESS).
    Conflict between rule 85 and token EXPR_ADD resolved as reduce (EXPR_ADD < EXPR_MULTIPLY).
    Conflict between rule 85 and token EXPR_MINUS resolved as reduce (EXPR_MINUS < EXPR_MULTIPLY).
    Conflict between rule 85 and token EXPR_MULTIPLY resolved as reduce (%left EXPR_MULTIPLY).
    Conflict between rule 85 and token EXPR_DIVIDE resolved as reduce (%left EXPR_DIVIDE).
    Conflict between rule 85 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_MULTIPLY).
    Conflict between rule 85 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_MULTIPLY).
    Conflict between rule 85 and token EXPR_LESS_THAN_EQUALS resolved as reduce (EXPR_LESS_THAN_EQUALS < EXPR_MULTIPLY).
    Conflict between rule 85 and token EXPR_LESS_THAN resolved as reduce (EXPR_LESS_THAN < EXPR_MULTIPLY).
    Conflict between rule 85 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (EXPR_GREATER_THAN_EQUALS < EXPR_MULTIPLY).
    Conflict between rule 85 and token EXPR_GREATER_THAN resolved as reduce (EXPR_GREATER_THAN < EXPR_MULTIPLY).
    Conflict between rule 85 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_MULTIPLY < EXPR_BEGIN_PAREN).


State 154

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   84           | expression EXPR_DIVIDE expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_TERMINATING_NEWLINE]
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS       shift, and go to state 127
    EXPR_BEGIN_PAREN  shift, and go to state 122

    $default  reduce using rule 84 (expression)

    Conflict between rule 84 and token EXPR_ACCESS resolved as shift (EXPR_DIVIDE < EXPR_ACCESS).
    Conflict between rule 84 and token EXPR_ADD resolved as reduce (EXPR_ADD < EXPR_DIVIDE).
    Conflict between rule 84 and token EXPR_MINUS resolved as reduce (EXPR_MINUS < EXPR_DIVIDE).
    Conflict between rule 84 and token EXPR_MULTIPLY resolved as reduce (%left EXPR_MULTIPLY).
    Conflict between rule 84 and token EXPR_DIVIDE resolved as reduce (%left EXPR_DIVIDE).
    Conflict between rule 84 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_DIVIDE).
    Conflict between rule 84 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_DIVIDE).
    Conflict between rule 84 and token EXPR_LESS_THAN_EQUALS resolved as reduce (EXPR_LESS_THAN_EQUALS < EXPR_DIVIDE).
    Conflict between rule 84 and token EXPR_LESS_THAN resolved as reduce (EXPR_LESS_THAN < EXPR_DIVIDE).
    Conflict between rule 84 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (EXPR_GREATER_THAN_EQUALS < EXPR_DIVIDE).
    Conflict between rule 84 and token EXPR_GREATER_THAN resolved as reduce (EXPR_GREATER_THAN < EXPR_DIVIDE).
    Conflict between rule 84 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_DIVIDE < EXPR_BEGIN_PAREN).


State 155

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   88           | expression EXPR_EQUALS_COMPARE expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_TERMINATING_NEWLINE]
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS               shift, and go to state 127
    EXPR_ADD                  shift, and go to state 112
    EXPR_MINUS                shift, and go to state 113
    EXPR_MULTIPLY             shift, and go to state 114
    EXPR_DIVIDE               shift, and go to state 115
    EXPR_LESS_THAN_EQUALS     shift, and go to state 118
    EXPR_LESS_THAN            shift, and go to state 119
    EXPR_GREATER_THAN_EQUALS  shift, and go to state 120
    EXPR_GREATER_THAN         shift, and go to state 121
    EXPR_BEGIN_PAREN          shift, and go to state 122

    $default  reduce using rule 88 (expression)

    Conflict between rule 88 and token EXPR_ACCESS resolved as shift (EXPR_EQUALS_COMPARE < EXPR_ACCESS).
    Conflict between rule 88 and token EXPR_ADD resolved as shift (EXPR_EQUALS_COMPARE < EXPR_ADD).
    Conflict between rule 88 and token EXPR_MINUS resolved as shift (EXPR_EQUALS_COMPARE < EXPR_MINUS).
    Conflict between rule 88 and token EXPR_MULTIPLY resolved as shift (EXPR_EQUALS_COMPARE < EXPR_MULTIPLY).
    Conflict between rule 88 and token EXPR_DIVIDE resolved as shift (EXPR_EQUALS_COMPARE < EXPR_DIVIDE).
    Conflict between rule 88 and token EXPR_EQUALS_COMPARE resolved as reduce (%left EXPR_EQUALS_COMPARE).
    Conflict between rule 88 and token EXPR_NOT_EQUALS resolved as reduce (%left EXPR_NOT_EQUALS).
    Conflict between rule 88 and token EXPR_LESS_THAN_EQUALS resolved as shift (EXPR_EQUALS_COMPARE < EXPR_LESS_THAN_EQUALS).
    Conflict between rule 88 and token EXPR_LESS_THAN resolved as shift (EXPR_EQUALS_COMPARE < EXPR_LESS_THAN).
    Conflict between rule 88 and token EXPR_GREATER_THAN_EQUALS resolved as shift (EXPR_EQUALS_COMPARE < EXPR_GREATER_THAN_EQUALS).
    Conflict between rule 88 and token EXPR_GREATER_THAN resolved as shift (EXPR_EQUALS_COMPARE < EXPR_GREATER_THAN).
    Conflict between rule 88 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_EQUALS_COMPARE < EXPR_BEGIN_PAREN).


State 156

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   89           | expression EXPR_NOT_EQUALS expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_TERMINATING_NEWLINE]
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS               shift, and go to state 127
    EXPR_ADD                  shift, and go to state 112
    EXPR_MINUS                shift, and go to state 113
    EXPR_MULTIPLY             shift, and go to state 114
    EXPR_DIVIDE               shift, and go to state 115
    EXPR_LESS_THAN_EQUALS     shift, and go to state 118
    EXPR_LESS_THAN            shift, and go to state 119
    EXPR_GREATER_THAN_EQUALS  shift, and go to state 120
    EXPR_GREATER_THAN         shift, and go to state 121
    EXPR_BEGIN_PAREN          shift, and go to state 122

    $default  reduce using rule 89 (expression)

    Conflict between rule 89 and token EXPR_ACCESS resolved as shift (EXPR_NOT_EQUALS < EXPR_ACCESS).
    Conflict between rule 89 and token EXPR_ADD resolved as shift (EXPR_NOT_EQUALS < EXPR_ADD).
    Conflict between rule 89 and token EXPR_MINUS resolved as shift (EXPR_NOT_EQUALS < EXPR_MINUS).
    Conflict between rule 89 and token EXPR_MULTIPLY resolved as shift (EXPR_NOT_EQUALS < EXPR_MULTIPLY).
    Conflict between rule 89 and token EXPR_DIVIDE resolved as shift (EXPR_NOT_EQUALS < EXPR_DIVIDE).
    Conflict between rule 89 and token EXPR_EQUALS_COMPARE resolved as reduce (%left EXPR_EQUALS_COMPARE).
    Conflict between rule 89 and token EXPR_NOT_EQUALS resolved as reduce (%left EXPR_NOT_EQUALS).
    Conflict between rule 89 and token EXPR_LESS_THAN_EQUALS resolved as shift (EXPR_NOT_EQUALS < EXPR_LESS_THAN_EQUALS).
    Conflict between rule 89 and token EXPR_LESS_THAN resolved as shift (EXPR_NOT_EQUALS < EXPR_LESS_THAN).
    Conflict between rule 89 and token EXPR_GREATER_THAN_EQUALS resolved as shift (EXPR_NOT_EQUALS < EXPR_GREATER_THAN_EQUALS).
    Conflict between rule 89 and token EXPR_GREATER_THAN resolved as shift (EXPR_NOT_EQUALS < EXPR_GREATER_THAN).
    Conflict between rule 89 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_NOT_EQUALS < EXPR_BEGIN_PAREN).


State 157

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   90           | expression EXPR_LESS_THAN_EQUALS expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_TERMINATING_NEWLINE]
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS       shift, and go to state 127
    EXPR_ADD          shift, and go to state 112
    EXPR_MINUS        shift, and go to state 113
    EXPR_MULTIPLY     shift, and go to state 114
    EXPR_DIVIDE       shift, and go to state 115
    EXPR_BEGIN_PAREN  shift, and go to state 122

    $default  reduce using rule 90 (expression)

    Conflict between rule 90 and token EXPR_ACCESS resolved as shift (EXPR_LESS_THAN_EQUALS < EXPR_ACCESS).
    Conflict between rule 90 and token EXPR_ADD resolved as shift (EXPR_LESS_THAN_EQUALS < EXPR_ADD).
    Conflict between rule 90 and token EXPR_MINUS resolved as shift (EXPR_LESS_THAN_EQUALS < EXPR_MINUS).
    Conflict between rule 90 and token EXPR_MULTIPLY resolved as shift (EXPR_LESS_THAN_EQUALS < EXPR_MULTIPLY).
    Conflict between rule 90 and token EXPR_DIVIDE resolved as shift (EXPR_LESS_THAN_EQUALS < EXPR_DIVIDE).
    Conflict between rule 90 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_LESS_THAN_EQUALS).
    Conflict between rule 90 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_LESS_THAN_EQUALS).
    Conflict between rule 90 and token EXPR_LESS_THAN_EQUALS resolved as reduce (%left EXPR_LESS_THAN_EQUALS).
    Conflict between rule 90 and token EXPR_LESS_THAN resolved as reduce (%left EXPR_LESS_THAN).
    Conflict between rule 90 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (%left EXPR_GREATER_THAN_EQUALS).
    Conflict between rule 90 and token EXPR_GREATER_THAN resolved as reduce (%left EXPR_GREATER_THAN).
    Conflict between rule 90 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_LESS_THAN_EQUALS < EXPR_BEGIN_PAREN).


State 158

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   91           | expression EXPR_LESS_THAN expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_TERMINATING_NEWLINE]
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS       shift, and go to state 127
    EXPR_ADD          shift, and go to state 112
    EXPR_MINUS        shift, and go to state 113
    EXPR_MULTIPLY     shift, and go to state 114
    EXPR_DIVIDE       shift, and go to state 115
    EXPR_BEGIN_PAREN  shift, and go to state 122

    $default  reduce using rule 91 (expression)

    Conflict between rule 91 and token EXPR_ACCESS resolved as shift (EXPR_LESS_THAN < EXPR_ACCESS).
    Conflict between rule 91 and token EXPR_ADD resolved as shift (EXPR_LESS_THAN < EXPR_ADD).
    Conflict between rule 91 and token EXPR_MINUS resolved as shift (EXPR_LESS_THAN < EXPR_MINUS).
    Conflict between rule 91 and token EXPR_MULTIPLY resolved as shift (EXPR_LESS_THAN < EXPR_MULTIPLY).
    Conflict between rule 91 and token EXPR_DIVIDE resolved as shift (EXPR_LESS_THAN < EXPR_DIVIDE).
    Conflict between rule 91 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_LESS_THAN).
    Conflict between rule 91 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_LESS_THAN).
    Conflict between rule 91 and token EXPR_LESS_THAN_EQUALS resolved as reduce (%left EXPR_LESS_THAN_EQUALS).
    Conflict between rule 91 and token EXPR_LESS_THAN resolved as reduce (%left EXPR_LESS_THAN).
    Conflict between rule 91 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (%left EXPR_GREATER_THAN_EQUALS).
    Conflict between rule 91 and token EXPR_GREATER_THAN resolved as reduce (%left EXPR_GREATER_THAN).
    Conflict between rule 91 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_LESS_THAN < EXPR_BEGIN_PAREN).


State 159

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   92           | expression EXPR_GREATER_THAN_EQUALS expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_TERMINATING_NEWLINE]
   93           | expression . EXPR_GREATER_THAN expression

    EXPR_ACCESS       shift, and go to state 127
    EXPR_ADD          shift, and go to state 112
    EXPR_MINUS        shift, and go to state 113
    EXPR_MULTIPLY     shift, and go to state 114
    EXPR_DIVIDE       shift, and go to state 115
    EXPR_BEGIN_PAREN  shift, and go to state 122

    $default  reduce using rule 92 (expression)

    Conflict between rule 92 and token EXPR_ACCESS resolved as shift (EXPR_GREATER_THAN_EQUALS < EXPR_ACCESS).
    Conflict between rule 92 and token EXPR_ADD resolved as shift (EXPR_GREATER_THAN_EQUALS < EXPR_ADD).
    Conflict between rule 92 and token EXPR_MINUS resolved as shift (EXPR_GREATER_THAN_EQUALS < EXPR_MINUS).
    Conflict between rule 92 and token EXPR_MULTIPLY resolved as shift (EXPR_GREATER_THAN_EQUALS < EXPR_MULTIPLY).
    Conflict between rule 92 and token EXPR_DIVIDE resolved as shift (EXPR_GREATER_THAN_EQUALS < EXPR_DIVIDE).
    Conflict between rule 92 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_GREATER_THAN_EQUALS).
    Conflict between rule 92 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_GREATER_THAN_EQUALS).
    Conflict between rule 92 and token EXPR_LESS_THAN_EQUALS resolved as reduce (%left EXPR_LESS_THAN_EQUALS).
    Conflict between rule 92 and token EXPR_LESS_THAN resolved as reduce (%left EXPR_LESS_THAN).
    Conflict between rule 92 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (%left EXPR_GREATER_THAN_EQUALS).
    Conflict between rule 92 and token EXPR_GREATER_THAN resolved as reduce (%left EXPR_GREATER_THAN).
    Conflict between rule 92 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_GREATER_THAN_EQUALS < EXPR_BEGIN_PAREN).


State 160

   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression
   93           | expression EXPR_GREATER_THAN expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_TERMINATING_NEWLINE]

    EXPR_ACCESS       shift, and go to state 127
    EXPR_ADD          shift, and go to state 112
    EXPR_MINUS        shift, and go to state 113
    EXPR_MULTIPLY     shift, and go to state 114
    EXPR_DIVIDE       shift, and go to state 115
    EXPR_BEGIN_PAREN  shift, and go to state 122

    $default  reduce using rule 93 (expression)

    Conflict between rule 93 and token EXPR_ACCESS resolved as shift (EXPR_GREATER_THAN < EXPR_ACCESS).
    Conflict between rule 93 and token EXPR_ADD resolved as shift (EXPR_GREATER_THAN < EXPR_ADD).
    Conflict between rule 93 and token EXPR_MINUS resolved as shift (EXPR_GREATER_THAN < EXPR_MINUS).
    Conflict between rule 93 and token EXPR_MULTIPLY resolved as shift (EXPR_GREATER_THAN < EXPR_MULTIPLY).
    Conflict between rule 93 and token EXPR_DIVIDE resolved as shift (EXPR_GREATER_THAN < EXPR_DIVIDE).
    Conflict between rule 93 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_GREATER_THAN).
    Conflict between rule 93 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_GREATER_THAN).
    Conflict between rule 93 and token EXPR_LESS_THAN_EQUALS resolved as reduce (%left EXPR_LESS_THAN_EQUALS).
    Conflict between rule 93 and token EXPR_LESS_THAN resolved as reduce (%left EXPR_LESS_THAN).
    Conflict between rule 93 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (%left EXPR_GREATER_THAN_EQUALS).
    Conflict between rule 93 and token EXPR_GREATER_THAN resolved as reduce (%left EXPR_GREATER_THAN).
    Conflict between rule 93 and token EXPR_BEGIN_PAREN resolved as shift (EXPR_GREATER_THAN < EXPR_BEGIN_PAREN).


State 161

   81 expression: expression EXPR_BEGIN_PAREN END_PAREN .

    $default  reduce using rule 81 (expression)


State 162

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   96 expr_fragments: expr_fragments . expr_fragment
   97               | expr_fragments . expr_keyword_as_string
   98 expr_keyword_as_string: . KEYWORD_IF
   99                       | . KEYWORD_ELSE
  100                       | . KEYWORD_WHILE
  101                       | . KEYWORD_FOR
  102                       | . KEYWORD_FOREACH
  103                       | . KEYWORD_DO
  104                       | . KEYWORD_BREAK
  105                       | . KEYWORD_CONTINUE
  106                       | . KEYWORD_AS
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER
  127 expr_comma_arguments: expr_fragments .  [END_PAREN, EXPR_COMMA]

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    KEYWORD_WHILE       shift, and go to state 186
    KEYWORD_DO          shift, and go to state 187
    KEYWORD_FOR         shift, and go to state 188
    KEYWORD_FOREACH     shift, and go to state 189
    KEYWORD_BREAK       shift, and go to state 190
    KEYWORD_CONTINUE    shift, and go to state 191
    KEYWORD_IF          shift, and go to state 192
    KEYWORD_ELSE        shift, and go to state 193
    KEYWORD_AS          shift, and go to state 194
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    $default  reduce using rule 127 (expr_comma_arguments)

    expr_fragment_or_variable  go to state 55
    expr_keyword_as_string     go to state 195
    expr_fragment              go to state 196
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 163

   95 expr_fragments: expr_fragment .

    $default  reduce using rule 95 (expr_fragments)


State 164

   82 expression: expression EXPR_BEGIN_PAREN expr_comma_arguments . END_PAREN
  128 expr_comma_arguments: expr_comma_arguments . EXPR_COMMA expr_fragments

    END_PAREN   shift, and go to state 197
    EXPR_COMMA  shift, and go to state 198


State 165

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   65 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP . cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP . cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 199


State 166

   80 expression: expression . EXPR_ACCESS expression
   80           | expression EXPR_ACCESS expression .  [$end, END_PAREN, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_ACCESS, EXPR_EQUALS_ASSIGN, EXPR_SEMICOLON, EXPR_ADD, EXPR_MINUS, EXPR_MULTIPLY, EXPR_DIVIDE, EXPR_EQUALS_COMPARE, EXPR_NOT_EQUALS, EXPR_LESS_THAN_EQUALS, EXPR_LESS_THAN, EXPR_GREATER_THAN_EQUALS, EXPR_GREATER_THAN, EXPR_BEGIN_PAREN, EXPR_TERMINATING_NEWLINE]
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    $default  reduce using rule 80 (expression)

    Conflict between rule 80 and token EXPR_ACCESS resolved as reduce (%left EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_ADD resolved as reduce (EXPR_ADD < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_MINUS resolved as reduce (EXPR_MINUS < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_MULTIPLY resolved as reduce (EXPR_MULTIPLY < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_DIVIDE resolved as reduce (EXPR_DIVIDE < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_EQUALS_COMPARE resolved as reduce (EXPR_EQUALS_COMPARE < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_NOT_EQUALS resolved as reduce (EXPR_NOT_EQUALS < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_LESS_THAN_EQUALS resolved as reduce (EXPR_LESS_THAN_EQUALS < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_LESS_THAN resolved as reduce (EXPR_LESS_THAN < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_GREATER_THAN_EQUALS resolved as reduce (EXPR_GREATER_THAN_EQUALS < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_GREATER_THAN resolved as reduce (EXPR_GREATER_THAN < EXPR_ACCESS).
    Conflict between rule 80 and token EXPR_BEGIN_PAREN resolved as reduce (EXPR_BEGIN_PAREN < EXPR_ACCESS).


State 167

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 200
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 168

   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment

    KEYWORD_WHILE  shift, and go to state 201


State 169

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 202


State 170

    8 cmd_optional_whitespace: . %empty  [CMD_DOLLAR]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS . cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 203


State 171

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   15              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 204
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 172

   71 expr_key_values: expr_key_values EXPR_COMMA expr_key_name . EXPR_EQUALS_ASSIGN expr_fragment
   72                | expr_key_values EXPR_COMMA expr_key_name .  [EXPR_COMMA, EXPR_END_SQUARE_BEGIN_COMMAND]

    EXPR_EQUALS_ASSIGN  shift, and go to state 205

    $default  reduce using rule 72 (expr_key_values)


State 173

   59 cmd_fragment: CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec . END_PAREN

    END_PAREN  shift, and go to state 206


State 174

   70 expr_key_values: expr_key_name EXPR_EQUALS_ASSIGN expr_fragment .

    $default  reduce using rule 70 (expr_key_values)


State 175

   25 cmd_assignment: CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration .

    $default  reduce using rule 25 (cmd_assignment)


State 176

   68 expr_fragments_or_function_declaration: expr_function_declaration .

    $default  reduce using rule 68 (expr_fragments_or_function_declaration)


State 177

   67 expr_fragments_or_function_declaration: expr_fragments .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   96 expr_fragments: expr_fragments . expr_fragment
   97               | expr_fragments . expr_keyword_as_string
   98 expr_keyword_as_string: . KEYWORD_IF
   99                       | . KEYWORD_ELSE
  100                       | . KEYWORD_WHILE
  101                       | . KEYWORD_FOR
  102                       | . KEYWORD_FOREACH
  103                       | . KEYWORD_DO
  104                       | . KEYWORD_BREAK
  105                       | . KEYWORD_CONTINUE
  106                       | . KEYWORD_AS
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    KEYWORD_WHILE       shift, and go to state 186
    KEYWORD_DO          shift, and go to state 187
    KEYWORD_FOR         shift, and go to state 188
    KEYWORD_FOREACH     shift, and go to state 189
    KEYWORD_BREAK       shift, and go to state 190
    KEYWORD_CONTINUE    shift, and go to state 191
    KEYWORD_IF          shift, and go to state 192
    KEYWORD_ELSE        shift, and go to state 193
    KEYWORD_AS          shift, and go to state 194
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    $default  reduce using rule 67 (expr_fragments_or_function_declaration)

    expr_fragment_or_variable  go to state 55
    expr_keyword_as_string     go to state 195
    expr_fragment              go to state 196
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 178

   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN
  116 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND . cmd_chain_exec END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    cmd_chain_exec            go to state 207
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 179

  124 expr_array_element: expr_fragment EXPR_MAP expr_fragment .

    $default  reduce using rule 124 (expr_array_element)


State 180

  121 expr_array_decl: EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN .

    $default  reduce using rule 121 (expr_array_decl)


State 181

  123 expr_array_def: expr_array_def EXPR_COMMA expr_array_element .

    $default  reduce using rule 123 (expr_array_def)


State 182

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN
   77 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE . cmd_statements END_BRACE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 208
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 183

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   78                          | EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN . expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 209
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 184

   27 cmd_assignment: CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE . EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration

    EXPR_EQUALS_ASSIGN  shift, and go to state 210


State 185

   26 cmd_assignment: CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN . expr_fragments_or_function_declaration
   67 expr_fragments_or_function_declaration: . expr_fragments
   68                                       | . expr_function_declaration
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   95 expr_fragments: . expr_fragment
   96               | . expr_fragments expr_fragment
   97               | . expr_fragments expr_keyword_as_string
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragments_or_function_declaration  go to state 211
    expr_fragment_or_variable               go to state 55
    expr_function_declaration               go to state 176
    expr_fragments                          go to state 177
    expr_fragment                           go to state 163
    expr_array_decl                         go to state 59
    expr_number                             go to state 60


State 186

  100 expr_keyword_as_string: KEYWORD_WHILE .

    $default  reduce using rule 100 (expr_keyword_as_string)


State 187

  103 expr_keyword_as_string: KEYWORD_DO .

    $default  reduce using rule 103 (expr_keyword_as_string)


State 188

  101 expr_keyword_as_string: KEYWORD_FOR .

    $default  reduce using rule 101 (expr_keyword_as_string)


State 189

  102 expr_keyword_as_string: KEYWORD_FOREACH .

    $default  reduce using rule 102 (expr_keyword_as_string)


State 190

  104 expr_keyword_as_string: KEYWORD_BREAK .

    $default  reduce using rule 104 (expr_keyword_as_string)


State 191

  105 expr_keyword_as_string: KEYWORD_CONTINUE .

    $default  reduce using rule 105 (expr_keyword_as_string)


State 192

   98 expr_keyword_as_string: KEYWORD_IF .

    $default  reduce using rule 98 (expr_keyword_as_string)


State 193

   99 expr_keyword_as_string: KEYWORD_ELSE .

    $default  reduce using rule 99 (expr_keyword_as_string)


State 194

  106 expr_keyword_as_string: KEYWORD_AS .

    $default  reduce using rule 106 (expr_keyword_as_string)


State 195

   97 expr_fragments: expr_fragments expr_keyword_as_string .

    $default  reduce using rule 97 (expr_fragments)


State 196

   96 expr_fragments: expr_fragments expr_fragment .

    $default  reduce using rule 96 (expr_fragments)


State 197

   82 expression: expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN .

    $default  reduce using rule 82 (expression)


State 198

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   95 expr_fragments: . expr_fragment
   96               | . expr_fragments expr_fragment
   97               | . expr_fragments expr_keyword_as_string
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER
  128 expr_comma_arguments: expr_comma_arguments EXPR_COMMA . expr_fragments

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    expr_fragment_or_variable  go to state 55
    expr_fragments             go to state 212
    expr_fragment              go to state 163
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 199

   65 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace . BEGIN_BRACE cmd_statements END_BRACE
   66                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace . CMD_BEGIN_PAREN expression END_PAREN

    BEGIN_BRACE      shift, and go to state 213
    CMD_BEGIN_PAREN  shift, and go to state 214


State 200

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 215
    CMD_TERMINATING_NEWLINE   shift, and go to state 66
    CMD_SEMICOLON             shift, and go to state 67
    EXPR_SEMICOLON            shift, and go to state 68
    EXPR_TERMINATING_NEWLINE  shift, and go to state 69

    cmd_terminator  go to state 70


State 201

    8 cmd_optional_whitespace: . %empty  [SINGLE_QUOTED, DOUBLE_QUOTED, VARIABLE, CMD_FRAGMENT, CMD_MAP, CMD_NUMBER, CMD_DOLLAR, CMD_BEGIN_COMMAND, CMD_BEGIN_PAREN]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE . cmd_optional_whitespace cmd_fragment

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 216


State 202

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    cmd_fragment              go to state 217
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 203

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace . cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   23 cmd_mapping: . CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | . CMD_DOLLAR VARIABLE cmd_optional_whitespace

    CMD_DOLLAR  shift, and go to state 218

    cmd_mapping  go to state 219


State 204

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 220
    CMD_TERMINATING_NEWLINE   shift, and go to state 66
    CMD_SEMICOLON             shift, and go to state 67
    EXPR_SEMICOLON            shift, and go to state 68
    EXPR_TERMINATING_NEWLINE  shift, and go to state 69

    cmd_terminator  go to state 70


State 205

   71 expr_key_values: expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS_ASSIGN . expr_fragment
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    expr_fragment_or_variable  go to state 55
    expr_fragment              go to state 221
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 206

   59 cmd_fragment: CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN .

    $default  reduce using rule 59 (cmd_fragment)


State 207

  116 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec . END_PAREN

    END_PAREN  shift, and go to state 222


State 208

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   77 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 223
    CMD_TERMINATING_NEWLINE   shift, and go to state 66
    CMD_SEMICOLON             shift, and go to state 67
    EXPR_SEMICOLON            shift, and go to state 68
    EXPR_TERMINATING_NEWLINE  shift, and go to state 69

    cmd_terminator  go to state 70


State 209

   78 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression . END_PAREN
   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    END_PAREN                 shift, and go to state 224
    EXPR_ACCESS               shift, and go to state 127
    EXPR_ADD                  shift, and go to state 112
    EXPR_MINUS                shift, and go to state 113
    EXPR_MULTIPLY             shift, and go to state 114
    EXPR_DIVIDE               shift, and go to state 115
    EXPR_EQUALS_COMPARE       shift, and go to state 116
    EXPR_NOT_EQUALS           shift, and go to state 117
    EXPR_LESS_THAN_EQUALS     shift, and go to state 118
    EXPR_LESS_THAN            shift, and go to state 119
    EXPR_GREATER_THAN_EQUALS  shift, and go to state 120
    EXPR_GREATER_THAN         shift, and go to state 121
    EXPR_BEGIN_PAREN          shift, and go to state 122


State 210

   27 cmd_assignment: CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN . expr_fragments_or_function_declaration
   67 expr_fragments_or_function_declaration: . expr_fragments
   68                                       | . expr_function_declaration
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   95 expr_fragments: . expr_fragment
   96               | . expr_fragments expr_fragment
   97               | . expr_fragments expr_keyword_as_string
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragments_or_function_declaration  go to state 225
    expr_fragment_or_variable               go to state 55
    expr_function_declaration               go to state 176
    expr_fragments                          go to state 177
    expr_fragment                           go to state 163
    expr_array_decl                         go to state 59
    expr_number                             go to state 60


State 211

   26 cmd_assignment: CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration .

    $default  reduce using rule 26 (cmd_assignment)


State 212

   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   96 expr_fragments: expr_fragments . expr_fragment
   97               | expr_fragments . expr_keyword_as_string
   98 expr_keyword_as_string: . KEYWORD_IF
   99                       | . KEYWORD_ELSE
  100                       | . KEYWORD_WHILE
  101                       | . KEYWORD_FOR
  102                       | . KEYWORD_FOREACH
  103                       | . KEYWORD_DO
  104                       | . KEYWORD_BREAK
  105                       | . KEYWORD_CONTINUE
  106                       | . KEYWORD_AS
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER
  128 expr_comma_arguments: expr_comma_arguments EXPR_COMMA expr_fragments .  [END_PAREN, EXPR_COMMA]

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    KEYWORD_WHILE       shift, and go to state 186
    KEYWORD_DO          shift, and go to state 187
    KEYWORD_FOR         shift, and go to state 188
    KEYWORD_FOREACH     shift, and go to state 189
    KEYWORD_BREAK       shift, and go to state 190
    KEYWORD_CONTINUE    shift, and go to state 191
    KEYWORD_IF          shift, and go to state 192
    KEYWORD_ELSE        shift, and go to state 193
    KEYWORD_AS          shift, and go to state 194
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 105

    $default  reduce using rule 128 (expr_comma_arguments)

    expr_fragment_or_variable  go to state 55
    expr_keyword_as_string     go to state 195
    expr_fragment              go to state 196
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 213

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   65                         | CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE . cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 226
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 214

   66 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN . expression END_PAREN
   75 expr_fragment_or_variable: . EXPR_FRAGMENT
   76                          | . VARIABLE
   77 expr_function_declaration: . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE
   78                          | . EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN
   79 expression: . expr_fragment
   80           | . expression EXPR_ACCESS expression
   81           | . expression EXPR_BEGIN_PAREN END_PAREN
   82           | . expression EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   83           | . EXPR_NOT expression
   84           | . expression EXPR_DIVIDE expression
   85           | . expression EXPR_MULTIPLY expression
   86           | . expression EXPR_ADD expression
   87           | . expression EXPR_MINUS expression
   88           | . expression EXPR_EQUALS_COMPARE expression
   89           | . expression EXPR_NOT_EQUALS expression
   90           | . expression EXPR_LESS_THAN_EQUALS expression
   91           | . expression EXPR_LESS_THAN expression
   92           | . expression EXPR_GREATER_THAN_EQUALS expression
   93           | . expression EXPR_GREATER_THAN expression
   94           | . expr_function_declaration
  107 expr_fragment: . expr_fragment_or_variable
  108              | . expr_number
  109              | . PHP
  110              | . SINGLE_QUOTED
  111              | . DOUBLE_QUOTED
  112              | . EXPR_DOLLAR VARIABLE
  113              | . EXPR_DOLLAR EXPR_NUMBER
  114              | . EXPR_DOLLAR QUESTION_MARK
  115              | . EXPR_BEGIN_COMMAND cmd_chain_exec END_PAREN
  116              | . EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
  117              | . EXPR_BEGIN_PAREN expression END_PAREN
  118              | . expr_array_decl
  119 expr_array_decl: . EXPR_BEGIN_ARRAY END_PAREN
  120                | . EXPR_BEGIN_ARRAY expr_array_def END_PAREN
  121                | . EXPR_BEGIN_ARRAY expr_array_def EXPR_COMMA END_PAREN
  126 expr_number: . EXPR_NUMBER

    SINGLE_QUOTED       shift, and go to state 44
    DOUBLE_QUOTED       shift, and go to state 45
    VARIABLE            shift, and go to state 46
    PHP                 shift, and go to state 47
    EXPR_FRAGMENT       shift, and go to state 48
    EXPR_NUMBER         shift, and go to state 49
    EXPR_DOLLAR         shift, and go to state 63
    EXPR_NOT            shift, and go to state 51
    EXPR_BEGIN_COMMAND  shift, and go to state 52
    EXPR_BEGIN_ARRAY    shift, and go to state 53
    EXPR_BEGIN_PAREN    shift, and go to state 54

    expr_fragment_or_variable  go to state 55
    expr_function_declaration  go to state 56
    expression                 go to state 227
    expr_fragment              go to state 58
    expr_array_decl            go to state 59
    expr_number                go to state 60


State 215

   17 cmd_statement: KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 17 (cmd_statement)


State 216

   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace . cmd_fragment
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 85

    cmd_fragment              go to state 228
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30


State 217

    8 cmd_optional_whitespace: . %empty  [KEYWORD_AS]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment . cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 229


State 218

   23 cmd_mapping: CMD_DOLLAR . VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | CMD_DOLLAR . VARIABLE cmd_optional_whitespace

    VARIABLE  shift, and go to state 230


State 219

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 231


State 220

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE . KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE .  [$end, END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]

    KEYWORD_ELSE  shift, and go to state 232

    $default  reduce using rule 16 (cmd_statement)


State 221

   71 expr_key_values: expr_key_values EXPR_COMMA expr_key_name EXPR_EQUALS_ASSIGN expr_fragment .

    $default  reduce using rule 71 (expr_key_values)


State 222

  116 expr_fragment: EXPR_DOLLAR EXPR_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN .

    $default  reduce using rule 116 (expr_fragment)


State 223

   77 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 77 (expr_function_declaration)


State 224

   78 expr_function_declaration: EXPR_BEGIN_PAREN END_PAREN EXPR_MAP EXPR_BEGIN_PAREN expression END_PAREN .

    $default  reduce using rule 78 (expr_function_declaration)


State 225

   27 cmd_assignment: CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration .

    $default  reduce using rule 27 (cmd_assignment)


State 226

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   65 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 233
    CMD_TERMINATING_NEWLINE   shift, and go to state 66
    CMD_SEMICOLON             shift, and go to state 67
    EXPR_SEMICOLON            shift, and go to state 68
    EXPR_TERMINATING_NEWLINE  shift, and go to state 69

    cmd_terminator  go to state 70


State 227

   66 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression . END_PAREN
   80 expression: expression . EXPR_ACCESS expression
   81           | expression . EXPR_BEGIN_PAREN END_PAREN
   82           | expression . EXPR_BEGIN_PAREN expr_comma_arguments END_PAREN
   84           | expression . EXPR_DIVIDE expression
   85           | expression . EXPR_MULTIPLY expression
   86           | expression . EXPR_ADD expression
   87           | expression . EXPR_MINUS expression
   88           | expression . EXPR_EQUALS_COMPARE expression
   89           | expression . EXPR_NOT_EQUALS expression
   90           | expression . EXPR_LESS_THAN_EQUALS expression
   91           | expression . EXPR_LESS_THAN expression
   92           | expression . EXPR_GREATER_THAN_EQUALS expression
   93           | expression . EXPR_GREATER_THAN expression

    END_PAREN                 shift, and go to state 234
    EXPR_ACCESS               shift, and go to state 127
    EXPR_ADD                  shift, and go to state 112
    EXPR_MINUS                shift, and go to state 113
    EXPR_MULTIPLY             shift, and go to state 114
    EXPR_DIVIDE               shift, and go to state 115
    EXPR_EQUALS_COMPARE       shift, and go to state 116
    EXPR_NOT_EQUALS           shift, and go to state 117
    EXPR_LESS_THAN_EQUALS     shift, and go to state 118
    EXPR_LESS_THAN            shift, and go to state 119
    EXPR_GREATER_THAN_EQUALS  shift, and go to state 120
    EXPR_GREATER_THAN         shift, and go to state 121
    EXPR_BEGIN_PAREN          shift, and go to state 122


State 228

   18 cmd_statement: KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment .

    $default  reduce using rule 18 (cmd_statement)


State 229

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace . KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    KEYWORD_AS  shift, and go to state 235


State 230

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE, CMD_MAP]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   23 cmd_mapping: CMD_DOLLAR VARIABLE . cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | CMD_DOLLAR VARIABLE . cmd_optional_whitespace

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 236


State 231

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   19              | KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE . cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 237
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 232

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 238


State 233

   65 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 65 (cmd_function_declaration)


State 234

   66 cmd_function_declaration: CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN .

    $default  reduce using rule 66 (cmd_function_declaration)


State 235

    8 cmd_optional_whitespace: . %empty  [CMD_DOLLAR]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS . cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 239


State 236

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace . CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | CMD_DOLLAR VARIABLE cmd_optional_whitespace .  [BEGIN_BRACE]

    CMD_MAP  shift, and go to state 240

    $default  reduce using rule 24 (cmd_mapping)


State 237

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 241
    CMD_TERMINATING_NEWLINE   shift, and go to state 66
    CMD_SEMICOLON             shift, and go to state 67
    EXPR_SEMICOLON            shift, and go to state 68
    EXPR_TERMINATING_NEWLINE  shift, and go to state 69

    cmd_terminator  go to state 70


State 238

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   15              | KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE . cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 242
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 239

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace . cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   23 cmd_mapping: . CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace
   24            | . CMD_DOLLAR VARIABLE cmd_optional_whitespace

    CMD_DOLLAR  shift, and go to state 218

    cmd_mapping  go to state 243


State 240

    8 cmd_optional_whitespace: . %empty  [CMD_DOLLAR]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP . cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 244


State 241

   19 cmd_statement: KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 19 (cmd_statement)


State 242

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 245
    CMD_TERMINATING_NEWLINE   shift, and go to state 66
    CMD_SEMICOLON             shift, and go to state 67
    EXPR_SEMICOLON            shift, and go to state 68
    EXPR_TERMINATING_NEWLINE  shift, and go to state 69

    cmd_terminator  go to state 70


State 243

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping . BEGIN_BRACE cmd_statements END_BRACE

    BEGIN_BRACE  shift, and go to state 246


State 244

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace . CMD_DOLLAR VARIABLE cmd_optional_whitespace

    CMD_DOLLAR  shift, and go to state 247


State 245

   15 cmd_statement: KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 15 (cmd_statement)


State 246

    2 cmd_statements: . cmd_statement
    3               | . cmd_statements cmd_terminator cmd_statement
   11 cmd_statement: . cmd_chain_exec CMD_AMPERSAND
   12              | . cmd_chain_exec
   13              | . cmd_assignment
   14              | . CMD_COLON expression
   15              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_ELSE BEGIN_BRACE cmd_statements END_BRACE
   16              | . KEYWORD_IF cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   17              | . KEYWORD_WHILE cmd_optional_whitespace cmd_fragment cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   18              | . KEYWORD_DO cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE KEYWORD_WHILE cmd_optional_whitespace cmd_fragment
   19              | . KEYWORD_FOREACH cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | . KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE
   20              | KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE . cmd_statements END_BRACE
   21              | . KEYWORD_RETURN CMD_WHITESPACE cmd_fragment
   22              | . %empty  [END_BRACE, CMD_TERMINATING_NEWLINE, CMD_SEMICOLON, EXPR_SEMICOLON, EXPR_TERMINATING_NEWLINE]
   25 cmd_assignment: . CMD_COLON EXPR_DOLLAR VARIABLE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   26               | . CMD_COLON expression EXPR_ACCESS expression EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   27               | . CMD_COLON expression EXPR_ACCESS EXPR_BEGIN_SQUARE END_SQUARE EXPR_EQUALS_ASSIGN expr_fragments_or_function_declaration
   28 cmd_chain_exec: . cmd_chain
   29 cmd_chain: . cmd_pipeline
   30          | . cmd_chain CMD_DOUBLE_PIPE cmd_chain
   31          | . cmd_chain CMD_DOUBLE_AMPERSAND cmd_chain
   32 cmd_pipeline: . cmd_instruction
   33             | . cmd_pipeline CMD_PIPE cmd_instruction
   34 cmd_instruction: . cmd_command
   35                | . cmd_function_declaration
   36 cmd_command: . cmd_arguments
   37 cmd_arguments: . cmd_fragments
   38              | . cmd_arguments CMD_WHITESPACE cmd_fragments
   39 cmd_fragments: . cmd_fragment
   40              | . cmd_fragments cmd_fragment
   41              | . cmd_fragments cmd_keyword_as_string
   51 cmd_fragment: . cmd_fragment_or_variable
   52             | . cmd_number
   53             | . SINGLE_QUOTED
   54             | . DOUBLE_QUOTED
   55             | . CMD_DOLLAR VARIABLE
   56             | . CMD_DOLLAR CMD_NUMBER
   57             | . CMD_DOLLAR QUESTION_MARK
   58             | . CMD_BEGIN_COMMAND cmd_chain_exec END_PAREN
   59             | . CMD_DOLLAR CMD_BEGIN_SQUARE expr_key_values EXPR_END_SQUARE_BEGIN_COMMAND cmd_chain_exec END_PAREN
   60             | . CMD_BEGIN_PAREN expression END_PAREN
   61 cmd_number: . CMD_NUMBER
   62 cmd_fragment_or_variable: . CMD_MAP
   63                         | . CMD_FRAGMENT
   64                         | . VARIABLE
   65 cmd_function_declaration: . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace BEGIN_BRACE cmd_statements END_BRACE
   66                         | . CMD_BEGIN_PAREN END_PAREN cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_BEGIN_PAREN expression END_PAREN

    SINGLE_QUOTED      shift, and go to state 1
    DOUBLE_QUOTED      shift, and go to state 2
    KEYWORD_WHILE      shift, and go to state 3
    KEYWORD_DO         shift, and go to state 4
    KEYWORD_FOR        shift, and go to state 5
    KEYWORD_FOREACH    shift, and go to state 6
    KEYWORD_IF         shift, and go to state 7
    KEYWORD_RETURN     shift, and go to state 8
    VARIABLE           shift, and go to state 9
    CMD_FRAGMENT       shift, and go to state 10
    CMD_MAP            shift, and go to state 11
    CMD_NUMBER         shift, and go to state 12
    CMD_DOLLAR         shift, and go to state 13
    CMD_COLON          shift, and go to state 14
    CMD_BEGIN_COMMAND  shift, and go to state 15
    CMD_BEGIN_PAREN    shift, and go to state 16

    $default  reduce using rule 22 (cmd_statement)

    cmd_statements            go to state 248
    cmd_statement             go to state 19
    cmd_assignment            go to state 20
    cmd_chain_exec            go to state 21
    cmd_chain                 go to state 22
    cmd_pipeline              go to state 23
    cmd_instruction           go to state 24
    cmd_command               go to state 25
    cmd_arguments             go to state 26
    cmd_fragments             go to state 27
    cmd_fragment              go to state 28
    cmd_number                go to state 29
    cmd_fragment_or_variable  go to state 30
    cmd_function_declaration  go to state 31


State 247

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR . VARIABLE cmd_optional_whitespace

    VARIABLE  shift, and go to state 249


State 248

    3 cmd_statements: cmd_statements . cmd_terminator cmd_statement
    4 cmd_terminator: . CMD_TERMINATING_NEWLINE
    5               | . EXPR_TERMINATING_NEWLINE
    6               | . CMD_SEMICOLON
    7               | . EXPR_SEMICOLON
   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements . END_BRACE

    END_BRACE                 shift, and go to state 250
    CMD_TERMINATING_NEWLINE   shift, and go to state 66
    CMD_SEMICOLON             shift, and go to state 67
    EXPR_SEMICOLON            shift, and go to state 68
    EXPR_TERMINATING_NEWLINE  shift, and go to state 69

    cmd_terminator  go to state 70


State 249

    8 cmd_optional_whitespace: . %empty  [BEGIN_BRACE]
    9                        | . CMD_WHITESPACE
   10                        | . CMD_TERMINATING_NEWLINE
   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE . cmd_optional_whitespace

    CMD_WHITESPACE           shift, and go to state 32
    CMD_TERMINATING_NEWLINE  shift, and go to state 33

    $default  reduce using rule 8 (cmd_optional_whitespace)

    cmd_optional_whitespace  go to state 251


State 250

   20 cmd_statement: KEYWORD_FOR cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace cmd_fragment cmd_optional_whitespace KEYWORD_AS cmd_optional_whitespace cmd_mapping BEGIN_BRACE cmd_statements END_BRACE .

    $default  reduce using rule 20 (cmd_statement)


State 251

   23 cmd_mapping: CMD_DOLLAR VARIABLE cmd_optional_whitespace CMD_MAP cmd_optional_whitespace CMD_DOLLAR VARIABLE cmd_optional_whitespace .

    $default  reduce using rule 23 (cmd_mapping)
